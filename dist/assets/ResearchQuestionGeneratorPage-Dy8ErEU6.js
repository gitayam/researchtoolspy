import{j as e}from"./ui-vendor-DBphXmDA.js";import{r as N,f as ie}from"./react-vendor-CfYLSWvh.js";import{B as y,e as k,q as Q,y as E}from"./index-DGGXJgUa.js";import{C as x,a as j,b as u,c as b,d as h}from"./card-BQo7RV_Z.js";import{P as ne}from"./progress-D6O6TLpv.js";import{R as ce,a as G}from"./radio-group-DpNxXkbo.js";import{T as de,a as oe,b as C,c as S}from"./tabs-Dznm0vhG.js";import{ay as I,a1 as xe,U as F,$ as R,ai as he,C as O,D as me,aj as pe,w as je,c as ue,Q as ge,_ as M,S as J,h as V,z as ye,av as _,L as q,bb as $,d as be}from"./icons-x9tcvtYN.js";import"./state-vendor-BXB5jEEt.js";function ve({plan:s,onEdit:a,onExport:i}){const[l,c]=N.useState("overview"),[g,m]=N.useState(null);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(x,{children:e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(u,{className:"text-2xl flex items-center gap-2",children:[e.jsx(I,{className:"h-6 w-6 text-purple-600"}),"Your Research Plan"]}),e.jsx(b,{children:"A comprehensive, actionable plan for your research project"})]}),e.jsx("div",{className:"flex gap-2",children:i&&e.jsxs(y,{variant:"outline",onClick:i,children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Export"]})})]})})}),l==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(x,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s.methodology.approach}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Research Approach"}),e.jsx("div",{className:"text-xs text-gray-400 mt-2",children:s.methodology.design})]})})}),e.jsx(x,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s.timeline.totalDuration}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total Duration"}),e.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[s.timeline.milestones.length," milestones"]})]})})}),e.jsx(x,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:s.ethicalConsiderations.riskLevel}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Risk Level"}),e.jsx("div",{className:"text-xs text-gray-400 mt-2",children:s.ethicalConsiderations.irbRequired?"IRB Required":"No IRB Required"})]})})})]}),e.jsxs(de,{value:l,onValueChange:c,children:[e.jsxs(oe,{className:"grid w-full grid-cols-4 lg:grid-cols-8",children:[e.jsx(C,{value:"overview",children:"Overview"}),e.jsx(C,{value:"methodology",children:"Methodology"}),e.jsx(C,{value:"timeline",children:"Timeline"}),e.jsx(C,{value:"resources",children:"Resources"}),e.jsx(C,{value:"literature",children:"Literature"}),e.jsx(C,{value:"analysis",children:"Analysis"}),e.jsx(C,{value:"ethics",children:"Ethics"}),e.jsx(C,{value:"dissemination",children:"Dissemination"})]}),e.jsx(S,{value:"overview",children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"Research Plan Summary"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Methodology"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.methodology.rationale})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Data Collection"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.methodology.dataCollection.map((r,t)=>e.jsx(k,{variant:"secondary",children:r},t))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Critical Path"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400 space-y-1",children:s.timeline.criticalPath.map((r,t)=>e.jsx("li",{children:r},t))})]})]})]})}),e.jsx(S,{value:"methodology",children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Methodology"]}),e.jsx(b,{children:"Research approach and design"})]}),a&&e.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>m("methodology"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Approach"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:s.methodology.approach})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Research Design"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:s.methodology.design})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Rationale"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:s.methodology.rationale})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Data Collection Methods"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.methodology.dataCollection.map((r,t)=>e.jsx("li",{children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Sampling Strategy"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:s.methodology.sampling})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Sample Size"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:s.methodology.sampleSize})]})]})]})}),e.jsx(S,{value:"timeline",children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Timeline & Milestones"]}),e.jsx(b,{children:"Project schedule and key deliverables"})]}),a&&e.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>m("timeline"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Total Duration"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:s.timeline.totalDuration})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Milestones"}),e.jsx("div",{className:"space-y-4",children:s.timeline.milestones.map((r,t)=>e.jsx(x,{className:"border-l-4 border-l-purple-600",children:e.jsxs(h,{className:"pt-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold",children:r.phase}),e.jsx(k,{variant:"outline",children:r.duration})]}),e.jsxs("div",{className:"space-y-2 mt-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"TASKS"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400 space-y-1",children:r.tasks.map((f,v)=>e.jsx("li",{children:f},v))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"DELIVERABLES"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400 space-y-1",children:r.deliverables.map((f,v)=>e.jsx("li",{children:f},v))})]})]})]})},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Critical Path"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-2 space-y-1",children:s.timeline.criticalPath.map((r,t)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-orange-500 flex-shrink-0"}),r]},t))})]})]})]})}),e.jsx(S,{value:"resources",children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),"Resources Required"]}),e.jsx(b,{children:"Personnel, equipment, and funding"})]}),a&&e.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>m("resources"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Personnel"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.resources.personnel.map((r,t)=>e.jsx("li",{children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Equipment"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.resources.equipment.map((r,t)=>e.jsx("li",{children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Software"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.resources.software.map((r,t)=>e.jsx(k,{variant:"secondary",children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Estimated Funding"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:s.resources.funding})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Facilities"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.resources.facilities.map((r,t)=>e.jsx("li",{children:r},t))})]})]})]})}),e.jsx(S,{value:"literature",children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"Literature Review Strategy"]}),e.jsx(b,{children:"Search strategy and inclusion criteria"})]}),a&&e.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>m("literature"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Databases to Search"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.literatureReview.databases.map((r,t)=>e.jsx(k,{variant:"secondary",children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Search Terms"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.literatureReview.searchTerms.map((r,t)=>e.jsx(k,{variant:"outline",children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Inclusion Criteria"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.literatureReview.inclusionCriteria.map((r,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(pe,{className:"h-4 w-4 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:r})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Exclusion Criteria"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.literatureReview.exclusionCriteria.map((r,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-red-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:r})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Expected Number of Sources"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:s.literatureReview.expectedSources})]})]})]})}),e.jsx(S,{value:"analysis",children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-5 w-5"}),"Data Analysis Plan"]}),e.jsx(b,{children:"Statistical tests and validation methods"})]}),a&&e.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>m("analysis"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),e.jsxs(h,{className:"space-y-4",children:[s.dataAnalysis.quantitativeTests.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Quantitative Tests"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.dataAnalysis.quantitativeTests.map((r,t)=>e.jsx("li",{children:r},t))})]}),s.dataAnalysis.qualitativeApproaches.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Qualitative Approaches"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.dataAnalysis.qualitativeApproaches.map((r,t)=>e.jsx("li",{children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Analysis Software"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.dataAnalysis.software.map((r,t)=>e.jsx(k,{variant:"secondary",children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Validation Methods"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.dataAnalysis.validationMethods.map((r,t)=>e.jsx("li",{children:r},t))})]})]})]})}),e.jsx(S,{value:"ethics",children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5"}),"Ethical Considerations"]}),e.jsx(b,{children:"IRB, consent, and risk management"})]}),a&&e.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>m("ethics"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"IRB Required"}),e.jsx("p",{className:"text-xl font-bold mt-1",children:s.ethicalConsiderations.irbRequired?"Yes":"No"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Risk Level"}),e.jsx("p",{className:"text-xl font-bold mt-1",children:s.ethicalConsiderations.riskLevel})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Consent Required"}),e.jsx("p",{className:"text-xl font-bold mt-1",children:s.ethicalConsiderations.consentRequired?"Yes":"No"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Privacy Measures"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.ethicalConsiderations.privacyMeasures.map((r,t)=>e.jsx("li",{children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Potential Risks"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.ethicalConsiderations.potentialRisks.map((r,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-orange-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:r})]},t))})]})]})]})}),e.jsx(S,{value:"dissemination",children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-5 w-5"}),"Dissemination Strategy"]}),e.jsx(b,{children:"Publication and presentation plans"})]}),a&&e.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>m("dissemination"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Target Journals"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.dissemination.targetJournals.map((r,t)=>e.jsx("li",{children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Conferences"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:s.dissemination.conferences.map((r,t)=>e.jsx("li",{children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Key Stakeholders"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.dissemination.stakeholders.map((r,t)=>e.jsx(k,{variant:"secondary",children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold",children:"Dissemination Formats"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.dissemination.formats.map((r,t)=>e.jsx(k,{variant:"outline",children:r},t))})]})]})]})})]})]})}const Ne=[{value:"academic",label:"Academic/Graduate Research",description:"Thesis, dissertation, or academic publication",icon:"ðŸŽ“",emphasizes:["IRB approval","Literature review","Peer review","Methodology rigor"]},{value:"osint",label:"Open Source Intelligence (OSINT)",description:"Open source research and intelligence analysis",icon:"ðŸ”",emphasizes:["Source verification","OPSEC","Digital footprint","Attribution"]},{value:"investigation",label:"Private Investigation",description:"Professional investigative research",icon:"ðŸ•µï¸",emphasizes:["Legal boundaries","Evidence chain","Client confidentiality","Surveillance ethics"]},{value:"business",label:"Business Research",description:"Market research, competitive intelligence, due diligence",icon:"ðŸ’¼",emphasizes:["ROI","Stakeholder analysis","Market trends","Risk assessment"]},{value:"journalism",label:"Investigative Journalism",description:"News investigation and fact-finding",icon:"ðŸ“°",emphasizes:["Source protection","Fact verification","Public interest","Editorial standards"]},{value:"personal",label:"Personal/Hobby Research",description:"Curiosity-driven or personal interest research",icon:"ðŸŒ±",emphasizes:["Flexible timeline","Community resources","Learning goals","Passion projects"]}],W=[{id:0,title:"Quick Start",description:"Choose how to begin"},{id:1,title:"Research Context",description:"Type of research & team"},{id:2,title:"Topic & Purpose",description:"Define your research area"},{id:3,title:"The 5 W's",description:"Who, What, Where, When, Why"},{id:4,title:"Resources & Constraints",description:"Timeline and limitations"},{id:5,title:"Review & Generate",description:"Generate research questions"}];function Oe(){const s=ie(),[a,i]=N.useState(0),[l,c]=N.useState(!1),[g,m]=N.useState([]),[r,t]=N.useState(null),[f,v]=N.useState(!1),[n,T]=N.useState(null),[z,U]=N.useState(null),[P,Y]=N.useState(""),[L,K]=N.useState(""),[X,B]=N.useState(!1),[d,Z]=N.useState({researchContext:"",teamSize:"solo",teamRoles:[],topic:"",purpose:[],projectType:"",who:{population:""},what:{variables:""},where:{location:""},when:{timePeriod:"",studyType:"cross-sectional"},why:{importance:""},duration:"",resources:[],experienceLevel:"intermediate"}),A=o=>{Z(p=>({...p,...o}))},D=()=>{a<W.length&&i(a+1)},ee=()=>{a>1&&i(a-1)},se=async()=>{c(!0);try{const o=localStorage.getItem("omnicore_user_hash"),p=await fetch("/api/research/generate-question",{method:"POST",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}},body:JSON.stringify({...d,saveToDatabase:!0})});if(p.ok){const w=await p.json();m(w.questions||[]),U(w.researchQuestionId||null)}else alert("Failed to generate questions. Please try again.")}catch(o){console.error("Error generating questions:",o),alert("An error occurred. Please try again.")}finally{c(!1)}},ae=async()=>{if(r!==null){v(!0);try{const o=localStorage.getItem("omnicore_user_hash"),p=g[r],w=await fetch("/api/research/generate-plan",{method:"POST",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}},body:JSON.stringify({researchQuestionId:z,researchQuestion:p.question,duration:d.duration,resources:d.resources,experienceLevel:d.experienceLevel,projectType:d.projectType,fiveWs:{who:d.who,what:d.what,where:d.where,when:d.when,why:d.why},researchContext:d.researchContext,teamSize:d.teamSize,teamRoles:d.teamRoles})});if(w.ok){const H=await w.json();T(H.plan)}else alert("Failed to generate research plan. Please try again.")}catch(o){console.error("Error generating plan:",o),alert("An error occurred. Please try again.")}finally{v(!1)}}},re=async()=>{if(!P.trim()){alert("Please enter a research question");return}v(!0);try{const o=localStorage.getItem("omnicore_user_hash"),p=await fetch("/api/research/generate-plan",{method:"POST",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}},body:JSON.stringify({researchQuestion:P,duration:"3-6 months",resources:[],experienceLevel:"intermediate",projectType:"General research",fiveWs:{who:{population:"To be determined based on research scope"},what:{variables:"To be determined based on research focus"},where:{location:"To be determined based on research context"},when:{timePeriod:"To be determined",studyType:"cross-sectional"},why:{importance:"As specified in research question"}},researchContext:"academic",teamSize:"solo",teamRoles:[]})});if(p.ok){const w=await p.json();T(w.plan),m([{question:P,smartAssessment:{},finerAssessment:{},nullHypothesis:"",alternativeHypothesis:"",keyVariables:[],dataCollectionMethods:[],potentialChallenges:[],overallScore:0}]),t(0),i(4)}else alert("Failed to generate research plan. Please try again.")}catch(o){console.error("Error generating plan:",o),alert("An error occurred. Please try again.")}finally{v(!1)}},te=async()=>{if(!L.trim()){alert("Please enter a topic or area of interest");return}B(!0);try{const o=localStorage.getItem("omnicore_user_hash"),p=await fetch("/api/research/recommend-questions",{method:"POST",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}},body:JSON.stringify({topic:L,count:3})});if(p.ok){const w=await p.json();m(w.questions||[]),i(4)}else alert("Failed to generate recommendations. Please try again.")}catch(o){console.error("Error generating recommendations:",o),alert("An error occurred. Please try again.")}finally{B(!1)}},le=a/W.length*100;return e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-4 sm:py-6 max-w-5xl",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs(y,{variant:"outline",onClick:()=>s("/dashboard"),size:"sm",className:"mb-4",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-2 sm:gap-3",children:[e.jsx(J,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600"}),"Research Question Generator"]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-2",children:"Generate high-quality research questions following SMART and FINER criteria"})]}),e.jsx(x,{className:"mb-6",children:e.jsxs(h,{className:"pt-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex justify-between mb-2",children:W.map((o,p)=>e.jsxs("div",{className:"flex-1 flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${a>p+1?"bg-green-600 text-white":a===p+1?"bg-purple-600 text-white":"bg-gray-200 text-gray-500 dark:bg-gray-700"}`,children:a>p+1?e.jsx(V,{className:"h-5 w-5"}):o.id}),e.jsxs("div",{className:"text-center mt-2 hidden sm:block",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:o.title}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:o.description})]})]}),p<W.length-1&&e.jsx("div",{className:`h-1 flex-1 mx-2 ${a>p+1?"bg-green-600":"bg-gray-200 dark:bg-gray-700"}`})]},o.id))})}),e.jsx(ne,{value:le,className:"h-2"})]})}),a===0&&e.jsx(fe,{importedQuestion:P,setImportedQuestion:Y,aiRecommendTopic:L,setAiRecommendTopic:K,isLoadingRecommendations:X,isGeneratingPlan:f,onStartWizard:()=>i(1),onImportQuestion:re,onAIRecommend:te}),a===1&&e.jsx(we,{formData:d,updateFormData:A}),a===2&&e.jsx(ke,{formData:d,updateFormData:A}),a===3&&e.jsx(Ce,{formData:d,updateFormData:A}),a===4&&e.jsx(Se,{formData:d,updateFormData:A}),a===5&&e.jsx(Re,{formData:d,isGenerating:l,generatedQuestions:g,selectedQuestionIndex:r,onGenerate:se,onSelectQuestion:t,isGeneratingPlan:f,onGeneratePlan:ae,researchPlan:n}),a<5&&a!==0&&e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsxs(y,{variant:"outline",onClick:ee,disabled:a===1,children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs(y,{onClick:D,disabled:a===1&&!d.researchContext||a===2&&(!d.topic||!d.projectType)||a===3&&(!d.who.population||!d.what.variables||!d.where.location||!d.when.timePeriod||!d.why.importance),children:["Next",e.jsx(ye,{className:"h-4 w-4 ml-2"})]})]})]})}function fe({importedQuestion:s,setImportedQuestion:a,aiRecommendTopic:i,setAiRecommendTopic:l,isLoadingRecommendations:c,isGeneratingPlan:g,onStartWizard:m,onImportQuestion:r,onAIRecommend:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"How would you like to start?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose your preferred way to create a research question"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(x,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-purple-500",children:[e.jsxs(j,{children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:e.jsx(I,{className:"h-8 w-8 text-purple-600"})})}),e.jsx(u,{className:"text-center",children:"Start Wizard"}),e.jsx(b,{className:"text-center",children:"Step-by-step guided process to craft your research question"})]}),e.jsxs(h,{children:[e.jsxs(y,{onClick:m,className:"w-full bg-purple-600 hover:bg-purple-700",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Begin Guided Process"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"Best for: Comprehensive planning"})]})]}),e.jsxs(x,{className:"hover:shadow-lg transition-shadow border-2 hover:border-blue-500",children:[e.jsxs(j,{children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:e.jsx(_,{className:"h-8 w-8 text-blue-600"})})}),e.jsx(u,{className:"text-center",children:"Import Question"}),e.jsx(b,{className:"text-center",children:"Already have a research question? Paste it here to start"})]}),e.jsxs(h,{className:"space-y-3",children:[e.jsx(Q,{placeholder:"Paste your research question here...",value:s,onChange:f=>a(f.target.value),rows:4,className:"text-sm"}),e.jsx(y,{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:!s.trim()||g,children:g?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating Plan..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Import & Continue"]})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Best for: Quick start with existing questions"})]})]}),e.jsxs(x,{className:"hover:shadow-lg transition-shadow border-2 hover:border-green-500",children:[e.jsxs(j,{children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-green-100 dark:bg-green-900/30 rounded-full",children:e.jsx($,{className:"h-8 w-8 text-green-600"})})}),e.jsx(u,{className:"text-center",children:"AI Recommend"}),e.jsx(b,{className:"text-center",children:"Get AI-generated research question suggestions"})]}),e.jsxs(h,{className:"space-y-3",children:[e.jsx(Q,{placeholder:"Describe your topic or area of interest...",value:i,onChange:f=>l(f.target.value),rows:4,className:"text-sm"}),e.jsx(y,{onClick:t,className:"w-full bg-green-600 hover:bg-green-700",disabled:!i.trim()||c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Get Recommendations"]})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Best for: Exploring new research ideas"})]})]})]})]})}function we({formData:s,updateFormData:a}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Research Type"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ne.map(i=>e.jsxs(x,{className:`cursor-pointer transition-all ${s.researchContext===i.value?"border-purple-500 border-2 shadow-lg":"border-gray-200 hover:border-purple-300 dark:border-gray-700 dark:hover:border-purple-500"}`,onClick:()=>a({researchContext:i.value}),children:[e.jsxs(j,{children:[e.jsx("div",{className:"text-4xl mb-2",children:i.icon}),e.jsx(u,{children:i.label}),e.jsx(b,{children:i.description})]}),e.jsx(h,{children:e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Emphasizes:"}),e.jsx("ul",{className:"list-disc list-inside mt-1 space-y-1",children:i.emphasizes.slice(0,3).map(l=>e.jsx("li",{children:l},l))})]})})]},i.value))})]}),s.researchContext&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center",children:[e.jsx(F,{className:"h-5 w-5 mr-2"}),"Team Structure"]}),e.jsxs(ce,{value:s.teamSize,onValueChange:i=>a({teamSize:i}),children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(G,{value:"solo",id:"solo"}),e.jsx(E,{htmlFor:"solo",children:"Solo Researcher"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(G,{value:"small-team",id:"small-team"}),e.jsx(E,{htmlFor:"small-team",children:"Small Team (2-5 people)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{value:"large-team",id:"large-team"}),e.jsx(E,{htmlFor:"large-team",children:"Large Team (6+ people)"})]})]})]}),s.teamSize!=="solo"&&e.jsxs("div",{children:[e.jsx(E,{htmlFor:"team-roles",children:"Team Roles (one per line)"}),e.jsx(Q,{id:"team-roles",placeholder:`Lead Researcher
Data Analyst
Field Investigator
Documentation Specialist`,value:s.teamRoles.join(`
`),onChange:i=>a({teamRoles:i.target.value.split(`
`).filter(l=>l.trim())}),rows:6,className:"mt-2"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Define roles for your team members to help structure the research plan"})]})]})]})}function ke({formData:s,updateFormData:a}){const i=["Exploratory","Descriptive","Explanatory","Evaluative","Policy-oriented","Applied research","Academic research"],l=["Academic thesis/dissertation","Journal article","Policy report","Grant proposal","Consulting project","Internal research","Other"];return e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(u,{children:"Topic & Purpose"}),e.jsx(b,{children:"Define your research area and objectives"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"What is your general area of interest or research topic? *"}),e.jsx("textarea",{value:s.topic,onChange:c=>a({topic:c.target.value}),placeholder:"Example: Social media impact on mental health in young adults",className:"w-full p-3 border rounded-lg min-h-[100px] dark:bg-gray-800 dark:border-gray-700"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Be as specific or broad as you like - we'll help refine it"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"What is the purpose of this research? (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:i.map(c=>e.jsxs("label",{className:"flex items-center space-x-2 p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.purpose.includes(c),onChange:g=>{g.target.checked?a({purpose:[...s.purpose,c]}):a({purpose:s.purpose.filter(m=>m!==c)})}}),e.jsx("span",{className:"text-sm",children:c})]},c))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"What type of project is this? *"}),e.jsxs("select",{value:s.projectType,onChange:c=>a({projectType:c.target.value}),className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("option",{value:"",children:"Select a project type..."}),l.map(c=>e.jsx("option",{value:c,children:c},c))]})]})]})]})}function Ce({formData:s,updateFormData:a}){const i=["cross-sectional","longitudinal","historical","real-time"];return e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(u,{children:"The 5 W's"}),e.jsx(b,{children:"Define Who, What, Where, When, and Why"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx("span",{className:"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-200 rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"W"}),"Who"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Who or what is the focus of your research? *"}),e.jsx("input",{type:"text",value:s.who.population,onChange:l=>a({who:{...s.who,population:l.target.value}}),placeholder:"Example: Young adults aged 18-25",className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Specific subgroups to compare? (Optional)"}),e.jsx("input",{type:"text",value:s.who.subgroups||"",onChange:l=>a({who:{...s.who,subgroups:l.target.value}}),placeholder:"Example: Male vs female, urban vs rural",className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200 rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"W"}),"What"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"What variables, behaviors, or phenomena will you study? *"}),e.jsx("textarea",{value:s.what.variables,onChange:l=>a({what:{...s.what,variables:l.target.value}}),placeholder:"Example: Social media usage time, anxiety levels, depression symptoms",className:"w-full p-3 border rounded-lg min-h-[80px] dark:bg-gray-800 dark:border-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Expected relationship or outcome? (Optional)"}),e.jsx("input",{type:"text",value:s.what.expectedOutcome||"",onChange:l=>a({what:{...s.what,expectedOutcome:l.target.value}}),placeholder:"Example: Increased social media use leads to higher anxiety",className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200 rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"W"}),"Where"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Where will this research take place? *"}),e.jsx("input",{type:"text",value:s.where.location,onChange:l=>a({where:{...s.where,location:l.target.value}}),placeholder:"Example: United States, Online platforms, Rural Southeast Asia",className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Specific settings or contexts? (Optional)"}),e.jsx("input",{type:"text",value:s.where.specificSettings||"",onChange:l=>a({where:{...s.where,specificSettings:l.target.value}}),placeholder:"Example: University campuses, Healthcare facilities",className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx("span",{className:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-200 rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"W"}),"When"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"What time period will your research cover? *"}),e.jsx("input",{type:"text",value:s.when.timePeriod,onChange:l=>a({when:{...s.when,timePeriod:l.target.value}}),placeholder:"Example: 2020-2024, Next 6 months, Past decade",className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Study type"}),e.jsx("select",{value:s.when.studyType,onChange:l=>a({when:{...s.when,studyType:l.target.value}}),className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700",children:i.map(l=>e.jsx("option",{value:l,children:l.replace("-"," ")},l))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200 rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"W"}),"Why"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Why is this research important? *"}),e.jsx("textarea",{value:s.why.importance,onChange:l=>a({why:{...s.why,importance:l.target.value}}),placeholder:"Example: Mental health issues are rising among young adults, and understanding the role of social media can inform interventions",className:"w-full p-3 border rounded-lg min-h-[100px] dark:bg-gray-800 dark:border-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Who will benefit from this research? (Optional)"}),e.jsx("input",{type:"text",value:s.why.beneficiaries||"",onChange:l=>a({why:{...s.why,beneficiaries:l.target.value}}),placeholder:"Example: Policymakers, Healthcare providers, Educators",className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700"})]})]})]})]})}function Se({formData:s,updateFormData:a}){const[i,l]=N.useState(!1),[c,g]=N.useState(""),m=["1 day","2-7 days","1-2 weeks","2-4 weeks","1-3 months","3-6 months","6-12 months","1-2 years","2+ years","Flexible/No deadline","Custom"],r=["Existing datasets","Survey tools","Research assistants","Statistical software","Funding for data collection","Access to participants/subjects","Lab facilities","Institutional support"],t=["beginner","intermediate","advanced","expert"],f=n=>{n==="Custom"?(l(!0),a({duration:c})):(l(!1),a({duration:n}))},v=n=>{g(n),a({duration:n})};return e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(u,{children:"Resources & Constraints"}),e.jsx(b,{children:"Define your timeline, resources, and limitations"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"How long do you have to complete this research?"}),e.jsxs("select",{value:i?"Custom":s.duration,onChange:n=>f(n.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("option",{value:"",children:"Select duration..."}),m.map(n=>e.jsx("option",{value:n,children:n},n))]}),i&&e.jsx("input",{type:"text",value:c,onChange:n=>v(n.target.value),placeholder:"Enter custom duration (e.g., 3 days, 5 hours)",className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700 mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"What resources do you have access to? (Check all that apply)"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.map(n=>e.jsxs("label",{className:"flex items-center space-x-2 p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.resources.includes(n),onChange:T=>{T.target.checked?a({resources:[...s.resources,n]}):a({resources:s.resources.filter(z=>z!==n)})}}),e.jsx("span",{className:"text-sm",children:n})]},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"What is your research experience level?"}),e.jsx("select",{value:s.experienceLevel,onChange:n=>a({experienceLevel:n.target.value}),className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700",children:t.map(n=>e.jsx("option",{value:n,children:n.charAt(0).toUpperCase()+n.slice(1)},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Are there areas or topics you want to avoid? (Optional)"}),e.jsx("textarea",{value:s.constraints||"",onChange:n=>a({constraints:n.target.value}),placeholder:"Example: Sensitive personal data, High-cost experiments, Restricted populations",className:"w-full p-3 border rounded-lg min-h-[80px] dark:bg-gray-800 dark:border-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Are there any ethical considerations? (Optional)"}),e.jsx("textarea",{value:s.ethicalConsiderations||"",onChange:n=>a({ethicalConsiderations:n.target.value}),placeholder:"Example: Vulnerable populations, privacy concerns, potential harm",className:"w-full p-3 border rounded-lg min-h-[80px] dark:bg-gray-800 dark:border-gray-700"})]})]})]})}function Re({formData:s,isGenerating:a,generatedQuestions:i,selectedQuestionIndex:l,onGenerate:c,onSelectQuestion:g,isGeneratingPlan:m,onGeneratePlan:r,researchPlan:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(u,{children:"Review Your Inputs"}),e.jsx(b,{children:"Research Summary"})]}),e.jsxs(h,{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:e.jsxs("p",{className:"text-sm font-medium text-purple-900 dark:text-purple-100 leading-relaxed",children:["A ",s.projectType.toLowerCase()," investigating"," ",e.jsx("span",{className:"font-semibold",children:s.topic}),","," ","focusing on ",e.jsx("span",{className:"font-semibold",children:s.who.population})," in"," ",e.jsx("span",{className:"font-semibold",children:s.where.location})," during"," ",e.jsx("span",{className:"font-semibold",children:s.when.timePeriod}),", by examining"," ",e.jsx("span",{className:"font-semibold",children:s.what.variables})," ","to understand ",s.why.importance.toLowerCase(),"."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Topic:"})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s.topic})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Project Type:"})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s.projectType})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Who:"})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s.who.population})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"What:"})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s.what.variables})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Where:"})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s.where.location})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"When:"})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s.when.timePeriod})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Why:"})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s.why.importance})]}),s.duration&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Duration:"})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s.duration})]})]})]})]}),i.length===0&&e.jsxs("div",{className:"text-center",children:[e.jsx(y,{onClick:c,disabled:a,size:"lg",className:"bg-purple-600 hover:bg-purple-700",children:a?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating Questions..."]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"h-5 w-5 mr-2"}),"Generate Research Questions"]})}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"AI will generate 3 research questions with SMART & FINER assessments"})]}),i.length>0&&!t&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Generated Research Questions"}),i.map((f,v)=>e.jsx(Te,{question:f,index:v,isSelected:l===v,onSelect:()=>g(v)},v)),l!==null&&e.jsx(x,{className:"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Ready to create your research plan?"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Generate a comprehensive, actionable research plan tailored to your selected question"}),e.jsx(y,{onClick:r,disabled:m,size:"lg",className:"bg-purple-600 hover:bg-purple-700",children:m?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating Research Plan..."]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"h-5 w-5 mr-2"}),"Generate Research Plan"]})})]})})})]}),t&&e.jsx(ve,{plan:t})]})}function Te({question:s,index:a,isSelected:i,onSelect:l}){return e.jsxs(x,{className:`border-2 ${i?"border-purple-600":"border-gray-200"}`,children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs(u,{className:"text-lg",children:["Question ",a+1," - ",a===0?"Broad":a===1?"Moderate":"Narrow"," Scope"]}),e.jsx("p",{className:"text-gray-900 dark:text-white mt-2 font-medium",children:s.question})]}),e.jsx("div",{className:"ml-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s.overallScore}),e.jsx("div",{className:"text-xs text-gray-500",children:"Score"})]})})]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-blue-900 dark:text-blue-200",children:"Null Hypothesis (Hâ‚€):"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.nullHypothesis})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-blue-900 dark:text-blue-200",children:"Alternative Hypothesis (Hâ‚):"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.alternativeHypothesis})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Key Variables:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.keyVariables.map((c,g)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded text-sm",children:c},g))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold block mb-2",children:"SMART Criteria:"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:Object.entries(s.smartAssessment).map(([c,g])=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:g.passed?"text-green-600":"text-red-600",children:g.passed?"âœ“":"âœ—"}),e.jsx("span",{className:"capitalize",children:c.replace(/([A-Z])/g," $1")})]},c))})]}),e.jsxs(y,{onClick:l,variant:i?"default":"outline",className:"w-full",children:[i?e.jsx(V,{className:"h-4 w-4 mr-2"}):null,i?"Selected":"Select This Question"]})]})]})}export{Oe as default};
