import{j as e,K as Oe,l as xs,g as us,M as Fe,W as ps,N as js,h as gs,Q as fs,U as ys,k as Ns,D as bs,i as Ie,O as vs,m as ws}from"./ui-vendor-DBphXmDA.js";import{r as t}from"./react-vendor-CfYLSWvh.js";import{T as ks,a as Cs,b as X,c as q}from"./tabs-Dznm0vhG.js";import{C as N,a as S,b as D,c as _,d as b}from"./card-BQo7RV_Z.js";import{K as Ss,y as j,S as U,z as $,C as H,E as G,F as w,t as W,M as Le,l as fe,H as Ds,B as I,m as ye,n as Ne,o as be,p as ve,I as ee,q as _s,s as we,e as V,v as As}from"./index-DGGXJgUa.js";import{S as z}from"./switch-8HGucaUr.js";import{R as Ts,a as se}from"./radio-group-DpNxXkbo.js";import{j as ke,k as Es,bk as Pe,bl as Os,bm as Fs,S as ce,W as Is,U as ae,Q as Ls,q as ie,P as Ps,aO as Rs,G as Ce,n as Se,C as oe,Z as Ms,w as Ws,bn as Us,a1 as De,av as _e,ax as $s,J as Ae,c as Hs,T as Gs,f as Bs,bo as Vs,D as zs}from"./icons-x9tcvtYN.js";import{S as te}from"./slider-oUJ8z5Zt.js";import{C as Te}from"./checkbox-CF04fJe8.js";import"./state-vendor-BXB5jEEt.js";const Js={theme:"system",language:"en",density:"comfortable",sidebar_behavior:"auto_collapse",font_size:"medium",show_tooltips:!0,animation_enabled:!0},Xs={default_model:"gpt-5-mini",temperature:.7,max_tokens:2048,show_cost_tracking:!0,show_token_usage:!0,auto_suggestions:!0,context_window:4096},qs={email_enabled:!1,desktop_enabled:!0,analysis_complete:!0,export_ready:!0,workspace_invite:!0},Ys={default_workspace_id:"1",auto_save_enabled:!0,auto_save_interval:30,show_recent_items:!0,recent_items_limit:10},Y={display:Js,ai:Xs,notifications:qs,workspace:Ys},Re="settings_";function re(){return localStorage.getItem("omnicore_user_hash")}function le(s){return{"Content-Type":"application/json","X-User-Hash":s}}function Ee(s){try{const a=`${Re}${s}`,r=localStorage.getItem(a);if(!r)return null;const n=JSON.parse(r);return{user_hash:s,...n}}catch(a){return console.error("Failed to load settings from localStorage:",a),null}}function ne(s){try{const a=`${Re}${s.user_hash}`,{user_hash:r,...n}=s;localStorage.setItem(a,JSON.stringify(n))}catch(a){console.error("Failed to save settings to localStorage:",a)}}function Ks(){const[s,a]=t.useState(null),[r,n]=t.useState(!0),[m,d]=t.useState(null),h=t.useCallback(async()=>{const o=re();if(!o){a(null),n(!1);return}try{n(!0),d(null);const x=await fetch("/api/settings/user",{headers:le(o)});if(x.ok){const u=await x.json();a(u),ne(u)}else if(x.status===404){const u=Ee(o);if(u)a(u);else{const y={user_hash:o,display:Y.display,ai:Y.ai,notifications:Y.notifications,workspace:Y.workspace};a(y),ne(y)}}else throw new Error("Failed to load settings")}catch(x){console.error("Settings load error:",x),d(x instanceof Error?x.message:"Failed to load settings");const u=Ee(o);u&&a(u)}finally{n(!1)}},[]),i=t.useCallback(async(o,x)=>{const u=re();if(!(!u||!s))try{const y=s[o],P={...s,[o]:{...typeof y=="object"&&y!==null?y:{},...x}};if(a(P),ne(P),!(await fetch("/api/settings/user",{method:"PUT",headers:le(u),body:JSON.stringify({[o]:P[o]})})).ok)throw new Error("Failed to update settings");await h()}catch(y){throw console.error("Settings update error:",y),d(y instanceof Error?y.message:"Failed to update settings"),await h(),y}},[s,h]),A=t.useCallback(async o=>{await i("display",o)},[i]),g=t.useCallback(async o=>{await i("ai",o)},[i]),T=t.useCallback(async o=>{await i("notifications",o)},[i]),L=t.useCallback(async o=>{await i("workspace",o)},[i]),k=t.useCallback(async()=>{const o=re();if(o)try{if(!(await fetch("/api/settings/user",{method:"DELETE",headers:le(o)})).ok)throw new Error("Failed to reset settings");await h()}catch(x){throw console.error("Settings reset error:",x),d(x instanceof Error?x.message:"Failed to reset settings"),x}},[h]),f=t.useCallback(async()=>{await h()},[h]);return t.useEffect(()=>{h()},[h]),{settings:s,loading:r,error:m,updateDisplaySettings:A,updateAISettings:g,updateNotificationSettings:T,updateWorkspaceSettings:L,resetSettings:k,refreshSettings:f}}function Zs({settings:s,onUpdate:a,updating:r=!1}){const n=t.useCallback(async d=>{if(await a({theme:d}),d==="dark")document.documentElement.classList.add("dark");else if(d==="light")document.documentElement.classList.remove("dark");else{const h=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",h)}},[a]),m=t.useCallback(async d=>{await a({language:d}),await Ss.changeLanguage(d),document.documentElement.lang=d},[a]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Theme"]}),e.jsx(_,{children:"Choose your preferred color scheme"})]}),e.jsx(b,{children:e.jsxs(Ts,{value:s.theme,onValueChange:d=>n(d),className:"grid grid-cols-3 gap-4",disabled:r,children:[e.jsxs("div",{children:[e.jsx(se,{value:"light",id:"theme-light",className:"peer sr-only"}),e.jsxs(j,{htmlFor:"theme-light",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-pointer",children:[e.jsx(ke,{className:"mb-3 h-6 w-6"}),"Light"]})]}),e.jsxs("div",{children:[e.jsx(se,{value:"dark",id:"theme-dark",className:"peer sr-only"}),e.jsxs(j,{htmlFor:"theme-dark",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-pointer",children:[e.jsx(Es,{className:"mb-3 h-6 w-6"}),"Dark"]})]}),e.jsxs("div",{children:[e.jsx(se,{value:"system",id:"theme-system",className:"peer sr-only"}),e.jsxs(j,{htmlFor:"theme-system",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-pointer",children:[e.jsx(Pe,{className:"mb-3 h-6 w-6"}),"System"]})]})]})})]}),e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsx(D,{className:"flex items-center gap-2",children:"Language"}),e.jsx(_,{children:"Choose your preferred language"})]}),e.jsx(b,{children:e.jsxs(U,{value:s.language,onValueChange:d=>m(d),disabled:r,children:[e.jsx($,{children:e.jsx(H,{})}),e.jsxs(G,{children:[e.jsx(w,{value:"en",children:"English"}),e.jsx(w,{value:"es",children:"EspaÃ±ol"})]})]})})]}),e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-5 w-5"}),"Density"]}),e.jsx(_,{children:"Adjust spacing and component sizing"})]}),e.jsx(b,{children:e.jsxs(U,{value:s.density,onValueChange:d=>a({density:d}),disabled:r,children:[e.jsx($,{children:e.jsx(H,{})}),e.jsxs(G,{children:[e.jsx(w,{value:"compact",children:"Compact - More content, less spacing"}),e.jsx(w,{value:"comfortable",children:"Comfortable - Balanced (Recommended)"}),e.jsx(w,{value:"spacious",children:"Spacious - More whitespace, easier reading"})]})]})})]}),e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsx(D,{children:"Sidebar Behavior"}),e.jsx(_,{children:"How the sidebar should behave on smaller screens"})]}),e.jsx(b,{children:e.jsxs(U,{value:s.sidebar_behavior,onValueChange:d=>a({sidebar_behavior:d}),disabled:r,children:[e.jsx($,{children:e.jsx(H,{})}),e.jsxs(G,{children:[e.jsx(w,{value:"always_open",children:"Always Open - Sidebar stays visible"}),e.jsx(w,{value:"auto_collapse",children:"Auto Collapse - Collapse on mobile (Recommended)"}),e.jsx(w,{value:"manual",children:"Manual - You control open/close"})]})]})})]}),e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(Fs,{className:"h-5 w-5"}),"Font Size"]}),e.jsx(_,{children:"Adjust text size for better readability"})]}),e.jsx(b,{children:e.jsxs(U,{value:s.font_size,onValueChange:d=>a({font_size:d}),disabled:r,children:[e.jsx($,{children:e.jsx(H,{})}),e.jsxs(G,{children:[e.jsx(w,{value:"small",children:"Small - 14px"}),e.jsx(w,{value:"medium",children:"Medium - 16px (Default)"}),e.jsx(w,{value:"large",children:"Large - 18px"}),e.jsx(w,{value:"x-large",children:"Extra Large - 20px"})]})]})})]}),e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"UI Enhancements"]}),e.jsx(_,{children:"Toggle visual enhancements and effects"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(j,{htmlFor:"tooltips",children:"Tooltips"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Show helpful tooltips on hover"})]}),e.jsx(z,{id:"tooltips",checked:s.show_tooltips,onCheckedChange:d=>a({show_tooltips:d}),disabled:r})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(j,{htmlFor:"animations",children:"Animations"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable smooth transitions and effects"})]}),e.jsx(z,{id:"animations",checked:s.animation_enabled,onCheckedChange:d=>a({animation_enabled:d}),disabled:r})]})]})]})]})}var Me="AlertDialog",[Qs]=js(Me,[Oe]),R=Oe(),We=s=>{const{__scopeAlertDialog:a,...r}=s,n=R(a);return e.jsx(xs,{...n,...r,modal:!0})};We.displayName=Me;var ea="AlertDialogTrigger",sa=t.forwardRef((s,a)=>{const{__scopeAlertDialog:r,...n}=s,m=R(r);return e.jsx(ws,{...m,...n,ref:a})});sa.displayName=ea;var aa="AlertDialogPortal",Ue=s=>{const{__scopeAlertDialog:a,...r}=s,n=R(a);return e.jsx(us,{...n,...r})};Ue.displayName=aa;var ta="AlertDialogOverlay",$e=t.forwardRef((s,a)=>{const{__scopeAlertDialog:r,...n}=s,m=R(r);return e.jsx(vs,{...m,...n,ref:a})});$e.displayName=ta;var B="AlertDialogContent",[ra,la]=Qs(B),na=ys("AlertDialogContent"),He=t.forwardRef((s,a)=>{const{__scopeAlertDialog:r,children:n,...m}=s,d=R(r),h=t.useRef(null),i=Fe(a,h),A=t.useRef(null);return e.jsx(ps,{contentName:B,titleName:Ge,docsSlug:"alert-dialog",children:e.jsx(ra,{scope:r,cancelRef:A,children:e.jsxs(gs,{role:"alertdialog",...d,...m,ref:i,onOpenAutoFocus:fs(m.onOpenAutoFocus,g=>{g.preventDefault(),A.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[e.jsx(na,{children:n}),e.jsx(oa,{contentRef:h})]})})})});He.displayName=B;var Ge="AlertDialogTitle",Be=t.forwardRef((s,a)=>{const{__scopeAlertDialog:r,...n}=s,m=R(r);return e.jsx(Ns,{...m,...n,ref:a})});Be.displayName=Ge;var Ve="AlertDialogDescription",ze=t.forwardRef((s,a)=>{const{__scopeAlertDialog:r,...n}=s,m=R(r);return e.jsx(bs,{...m,...n,ref:a})});ze.displayName=Ve;var ia="AlertDialogAction",Je=t.forwardRef((s,a)=>{const{__scopeAlertDialog:r,...n}=s,m=R(r);return e.jsx(Ie,{...m,...n,ref:a})});Je.displayName=ia;var Xe="AlertDialogCancel",qe=t.forwardRef((s,a)=>{const{__scopeAlertDialog:r,...n}=s,{cancelRef:m}=la(Xe,r),d=R(r),h=Fe(a,m);return e.jsx(Ie,{...d,...n,ref:h})});qe.displayName=Xe;var oa=({contentRef:s})=>{const a=`\`${B}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${B}\` by passing a \`${Ve}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${B}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return t.useEffect(()=>{document.getElementById(s.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,s]),null},ca=We,da=Ue,Ye=$e,Ke=He,Ze=Je,Qe=qe,es=Be,ss=ze;const as=ca,ma=da,ts=t.forwardRef(({className:s,...a},r)=>e.jsx(Ye,{className:W("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:r}));ts.displayName=Ye.displayName;const de=t.forwardRef(({className:s,...a},r)=>e.jsxs(ma,{children:[e.jsx(ts,{}),e.jsx(Ke,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a})]}));de.displayName=Ke.displayName;const me=({className:s,...a})=>e.jsx("div",{className:W("flex flex-col space-y-2 text-center sm:text-left",s),...a});me.displayName="AlertDialogHeader";const he=({className:s,...a})=>e.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a});he.displayName="AlertDialogFooter";const xe=t.forwardRef(({className:s,...a},r)=>e.jsx(es,{ref:r,className:W("text-lg font-semibold",s),...a}));xe.displayName=es.displayName;const ue=t.forwardRef(({className:s,...a},r)=>e.jsx(ss,{ref:r,className:W("text-sm text-muted-foreground",s),...a}));ue.displayName=ss.displayName;const pe=t.forwardRef(({className:s,...a},r)=>e.jsx(Ze,{ref:r,className:W(Le(),s),...a}));pe.displayName=Ze.displayName;const je=t.forwardRef(({className:s,...a},r)=>e.jsx(Qe,{ref:r,className:W(Le({variant:"outline"}),"mt-2 sm:mt-0",s),...a}));je.displayName=Qe.displayName;function ha({workspaces:s,currentWorkspaceId:a,onWorkspaceChange:r,onWorkspaceCreate:n,onWorkspaceDelete:m,onWorkspaceUpdate:d}){const[h,i]=t.useState(!1),[A,g]=t.useState(!1),[T,L]=t.useState(!1),[k,f]=t.useState(!1),[o,x]=t.useState(null),[u,y]=t.useState(""),[P,p]=t.useState("PERSONAL"),[E,O]=t.useState(""),[c,F]=t.useState(!1),[C,v]=t.useState(!1),[M,J]=t.useState(""),[Z,rs]=t.useState(""),[ls,ge]=t.useState(!1),ns=t.useCallback(async()=>{if(u.trim())try{F(!0),await n(u,P,E||void 0),y(""),O(""),p("PERSONAL"),i(!1)}catch(l){console.error("Failed to create workspace:",l)}finally{F(!1)}},[u,P,E,n]),is=t.useCallback(async()=>{if(o)try{v(!0),await m(o.id),L(!1),x(null)}catch(l){console.error("Failed to delete workspace:",l)}finally{v(!1)}},[o,m]),os=t.useCallback(l=>{x(l);const Q=`${window.location.origin}/workspace/join/${l.id}`;rs(Q),f(!0)},[]),cs=t.useCallback(()=>{navigator.clipboard.writeText(Z),ge(!0),setTimeout(()=>ge(!1),2e3)},[Z]),ds=t.useCallback(async()=>{if(!(!M.trim()||!o))try{console.log("Inviting hash:",M,"to workspace:",o.id),J("")}catch(l){console.error("Failed to invite user:",l)}},[M,o]),ms=(l,Q)=>Q?e.jsx(Ce,{className:"h-4 w-4"}):l==="TEAM"?e.jsx(ae,{className:"h-4 w-4"}):e.jsx(Se,{className:"h-4 w-4"}),hs=l=>{switch(l){case"PERSONAL":return"Personal";case"TEAM":return"Team";case"PUBLIC":return"Public";default:return l}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(N,{children:[e.jsx(S,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(D,{children:"Your Workspaces"}),e.jsx(_,{children:"Manage and switch between your workspaces"})]}),e.jsxs(fe,{open:h,onOpenChange:i,children:[e.jsx(Ds,{asChild:!0,children:e.jsxs(I,{children:[e.jsx(Is,{className:"h-4 w-4 mr-2"}),"New Workspace"]})}),e.jsxs(ye,{children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Create New Workspace"}),e.jsx(ve,{children:"Create a new workspace to organize your analyses"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"workspace-name",children:"Workspace Name"}),e.jsx(ee,{id:"workspace-name",placeholder:"e.g., Syria Analysis",value:u,onChange:l=>y(l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"workspace-type",children:"Type"}),e.jsxs(U,{value:P,onValueChange:l=>p(l),children:[e.jsx($,{id:"workspace-type",children:e.jsx(H,{})}),e.jsxs(G,{children:[e.jsx(w,{value:"PERSONAL",children:"Personal - Just for you"}),e.jsx(w,{value:"TEAM",children:"Team - Invite collaborators"}),e.jsx(w,{value:"PUBLIC",children:"Public - Anyone can view"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"workspace-description",children:"Description (Optional)"}),e.jsx(_s,{id:"workspace-description",placeholder:"Brief description of this workspace's purpose",value:E,onChange:l=>O(l.target.value),rows:3})]})]}),e.jsxs(we,{children:[e.jsx(I,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(I,{onClick:ns,disabled:c||!u.trim(),children:c?"Creating...":"Create Workspace"})]})]})]})]})}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-2",children:[s.map(l=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-colors ${l.id===a?"border-primary bg-primary/5":"border-border hover:bg-accent"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10 text-primary",children:ms(l.type,l.is_public)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium",children:l.name}),l.is_default&&e.jsx(V,{variant:"secondary",className:"text-xs",children:"Default"}),l.id===a&&e.jsx(V,{variant:"default",className:"text-xs",children:"Active"})]}),l.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(V,{variant:"outline",className:"text-xs",children:hs(l.type)}),l.member_count!==void 0&&l.member_count>1&&e.jsxs(V,{variant:"outline",className:"text-xs",children:[e.jsx(ae,{className:"h-3 w-3 mr-1"}),l.member_count," members"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.id!==a&&e.jsx(I,{variant:"outline",size:"sm",onClick:()=>r(l.id),children:"Switch"}),(l.type==="TEAM"||l.type==="PUBLIC")&&l.role==="owner"&&e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>os(l),children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Share"]}),!l.is_default&&l.role==="owner"&&e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{x(l),L(!0)},children:e.jsx(ie,{className:"h-4 w-4 text-destructive"})})]})]},l.id)),s.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.jsx("p",{children:"No workspaces yet. Create one to get started!"})})]})})]}),e.jsx(fe,{open:k,onOpenChange:f,children:e.jsxs(ye,{className:"max-w-2xl",children:[e.jsxs(Ne,{children:[e.jsxs(be,{children:["Share Workspace: ",o?.name]}),e.jsx(ve,{children:"Invite collaborators to join this workspace"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Share Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{value:Z,readOnly:!0,className:"font-mono text-sm"}),e.jsxs(I,{onClick:cs,variant:"outline",children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"}),ls?"Copied!":"Copy"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Anyone with this link can request access to the workspace"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"invite-hash",children:"Invite by User Hash"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{id:"invite-hash",placeholder:"Enter 16-digit user hash",value:M,onChange:l=>J(l.target.value),maxLength:16}),e.jsxs(I,{onClick:ds,disabled:!M.trim(),children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Invite"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Directly invite a user by their account hash"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Workspace Visibility"}),e.jsx("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:o?.is_public?e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Public"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Anyone can view this workspace's contents"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Private"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Only invited members can access this workspace"})]})]})})]}),o?.member_count&&o.member_count>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Current Members"}),e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsxs("span",{children:[o.member_count," member(s)"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Member management coming soon"})]})]})]}),e.jsx(we,{children:e.jsx(I,{variant:"outline",onClick:()=>f(!1),children:"Close"})})]})}),e.jsx(as,{open:T,onOpenChange:L,children:e.jsxs(de,{children:[e.jsxs(me,{children:[e.jsx(xe,{children:"Delete Workspace?"}),e.jsxs(ue,{children:['This will permanently delete the workspace "',o?.name,'" and all its data. This action cannot be undone.']})]}),e.jsxs(he,{children:[e.jsx(je,{children:"Cancel"}),e.jsx(pe,{onClick:is,disabled:C,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:C?"Deleting...":"Delete Workspace"})]})]})})]})}const K={"gpt-5":{name:"GPT-5",description:"Most capable model for deep analysis and complex reasoning",cost:"Highest cost, best quality"},"gpt-5-mini":{name:"GPT-5 Mini",description:"Balanced performance and cost - ideal for most tasks",cost:"Medium cost, great quality"},"gpt-5-nano":{name:"GPT-5 Nano",description:"Fast and efficient for simple tasks and suggestions",cost:"Lowest cost, good quality"},"gpt-4o-mini":{name:"GPT-4o Mini",description:"Fallback model while GPT-5 is in development",cost:"Low cost, proven quality"}};function xa({settings:s,onUpdate:a,updating:r=!1}){const n=t.useCallback(async i=>{await a({default_model:i})},[a]),m=t.useCallback(async i=>{await a({temperature:i[0]})},[a]),d=t.useCallback(async i=>{await a({max_tokens:i[0]})},[a]),h=t.useCallback(async i=>{await a({context_window:i[0]})},[a]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"AI Model"]}),e.jsx(_,{children:"Choose the default AI model for analysis tasks"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs(U,{value:s.default_model,onValueChange:i=>n(i),disabled:r,children:[e.jsx($,{children:e.jsx(H,{})}),e.jsx(G,{children:Object.entries(K).map(([i,A])=>e.jsx(w,{value:i,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:A.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:A.description})]})},i))})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:K[s.default_model].name}),e.jsx(V,{variant:"secondary",className:"text-xs",children:K[s.default_model].cost})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:K[s.default_model].description})]}),s.default_model==="gpt-4o-mini"&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(oe,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsx("p",{className:"font-medium",children:"Temporary Fallback Model"}),e.jsx("p",{className:"mt-1",children:"GPT-5 models are not yet available. Using GPT-4o Mini as fallback."})]})]})})]})]}),e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-5 w-5"}),"Model Parameters"]}),e.jsx(_,{children:"Fine-tune AI behavior and output characteristics"})]}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{htmlFor:"temperature",children:"Temperature"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.temperature.toFixed(2)})]}),e.jsx(te,{id:"temperature",min:0,max:1,step:.05,value:[s.temperature],onValueChange:m,disabled:r,className:"w-full"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower values (0.0-0.3) are more focused and deterministic. Higher values (0.7-1.0) are more creative and varied."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{htmlFor:"max-tokens",children:"Max Tokens"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.max_tokens.toLocaleString()})]}),e.jsx(te,{id:"max-tokens",min:512,max:8192,step:256,value:[s.max_tokens],onValueChange:d,disabled:r,className:"w-full"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum length of AI responses. Higher values allow longer outputs but cost more."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{htmlFor:"context-window",children:"Context Window"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.context_window.toLocaleString()})]}),e.jsx(te,{id:"context-window",min:2048,max:16384,step:1024,value:[s.context_window],onValueChange:h,disabled:r,className:"w-full"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Amount of context the AI considers. Larger windows provide better understanding but use more tokens."})]})]})]}),e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsx(D,{children:"AI Features"}),e.jsx(_,{children:"Enable or disable specific AI capabilities"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(j,{htmlFor:"cost-tracking",children:"Cost Tracking"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Display estimated costs for AI operations"})]}),e.jsx(z,{id:"cost-tracking",checked:s.show_cost_tracking,onCheckedChange:i=>a({show_cost_tracking:i}),disabled:r})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(j,{htmlFor:"token-usage",children:"Token Usage"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Show token consumption statistics"})]}),e.jsx(z,{id:"token-usage",checked:s.show_token_usage,onCheckedChange:i=>a({show_token_usage:i}),disabled:r})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(j,{htmlFor:"auto-suggestions",children:"Auto Suggestions"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get AI-powered suggestions while typing"})]}),e.jsx(z,{id:"auto-suggestions",checked:s.auto_suggestions,onCheckedChange:i=>a({auto_suggestions:i}),disabled:r})]})]})]}),e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"h-5 w-5"}),"Usage Statistics"]}),e.jsx(_,{children:"Track your AI usage and costs"})]}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsx("span",{className:"text-sm",children:"Today's Token Usage"}),e.jsxs("span",{className:"font-medium",children:["0 / ",s.max_tokens.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("span",{className:"text-sm flex items-center gap-2",children:[e.jsx(Us,{className:"h-4 w-4"}),"Estimated Cost Today"]}),e.jsx("span",{className:"font-medium",children:"$0.00"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Usage statistics are calculated in real-time. Costs are estimates based on current pricing."})]})})]})]})}function ua({userHash:s,workspaceId:a}){const[r,n]=t.useState(!1),[m,d]=t.useState(!1),[h,i]=t.useState(!1),[A,g]=t.useState(!1),[T,L]=t.useState("full"),[k,f]=t.useState("json"),[o,x]=t.useState(!0),[u,y]=t.useState(!0),P=t.useCallback(async()=>{try{n(!0);const c=await fetch("/api/settings/data/export",{method:"POST",headers:{"Content-Type":"application/json","X-User-Hash":s},body:JSON.stringify({export_type:T,format:k,workspace_id:T==="workspace"?a:void 0,include_metadata:o,include_comments:u})});if(!c.ok)throw new Error("Export failed");const F=await c.blob(),C=window.URL.createObjectURL(F),v=document.createElement("a");v.href=C,v.download=`omnicore_export_${Date.now()}.${k}`,document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(C),document.body.removeChild(v)}catch(c){console.error("Export error:",c),alert("Failed to export data. Please try again.")}finally{n(!1)}},[s,a,T,k,o,u]),p=t.useCallback(async c=>{const F=c.target.files?.[0];if(F)try{d(!0);const C=await F.text(),v=JSON.parse(C),M=await fetch("/api/settings/data/import",{method:"POST",headers:{"Content-Type":"application/json","X-User-Hash":s},body:JSON.stringify({data:v,options:{merge:!0,overwrite:!1,import_settings:!0,import_workspaces:!0,import_frameworks:!0,import_evidence:!0,import_analyses:!0}})});if(!M.ok)throw new Error("Import failed");const J=await M.json();alert(`Successfully imported: ${JSON.stringify(J.imported_count,null,2)}`),window.location.reload()}catch(C){console.error("Import error:",C),alert("Failed to import data. Please check the file format and try again.")}finally{d(!1),c.target.value=""}},[s]),E=t.useCallback(async()=>{try{if(g(!0),!(await fetch(`/api/settings/data/workspace/${a}`,{method:"DELETE",headers:{"X-User-Hash":s}})).ok)throw new Error("Failed to clear data");alert("Workspace data cleared successfully"),i(!1),window.location.reload()}catch(c){console.error("Clear data error:",c),alert("Failed to clear workspace data. Please try again.")}finally{g(!1)}},[s,a]),O=t.useCallback(async()=>{try{const c=await fetch("/api/settings/hash/backup",{method:"POST",headers:{"X-User-Hash":s}});if(!c.ok)throw new Error("Failed to generate backup");const F=await c.blob(),C=window.URL.createObjectURL(F),v=document.createElement("a");v.href=C,v.download=`omnicore_hash_backup_${Date.now()}.txt`,document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(C),document.body.removeChild(v)}catch(c){console.error("Backup error:",c),alert("Failed to generate hash backup. Please try again.")}},[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-5 w-5"}),"Export Data"]}),e.jsx(_,{children:"Download your data in various formats for backup or migration"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Export Type"}),e.jsxs("select",{className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:T,onChange:c=>L(c.target.value),children:[e.jsx("option",{value:"full",children:"Full Export - Everything"}),e.jsx("option",{value:"workspace",children:"Current Workspace Only"}),e.jsx("option",{value:"settings",children:"Settings Only"}),e.jsx("option",{value:"frameworks",children:"Frameworks Only"}),e.jsx("option",{value:"evidence",children:"Evidence Only"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Format"}),e.jsxs("select",{className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:k,onChange:c=>f(c.target.value),children:[e.jsx("option",{value:"json",children:"JSON - Full fidelity"}),e.jsx("option",{value:"csv",children:"CSV - Tabular data"}),e.jsx("option",{value:"excel",children:"Excel - Spreadsheet"}),e.jsx("option",{value:"pdf",children:"PDF - Reports"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Options"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{id:"include-metadata",checked:o,onCheckedChange:c=>x(c)}),e.jsx("label",{htmlFor:"include-metadata",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Include metadata (timestamps, IDs, etc.)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{id:"include-comments",checked:u,onCheckedChange:c=>y(c)}),e.jsx("label",{htmlFor:"include-comments",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Include comments and annotations"})]})]})]}),e.jsxs(I,{onClick:P,disabled:r,className:"w-full",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),r?"Exporting...":"Export Data"]})]})]}),e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-5 w-5"}),"Import Data"]}),e.jsx(_,{children:"Import previously exported data or migrate from another account"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx($s,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-medium",children:"Import Instructions"}),e.jsxs("ul",{className:"mt-1 ml-4 list-disc space-y-1",children:[e.jsx("li",{children:"Only JSON exports are supported for import"}),e.jsx("li",{children:"Existing data will be merged (not overwritten)"}),e.jsx("li",{children:"Duplicate items will be skipped"})]})]})]})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:".json",onChange:p,disabled:m,className:"hidden",id:"import-file"}),e.jsx(j,{htmlFor:"import-file",children:e.jsx(I,{asChild:!0,disabled:m,className:"w-full",children:e.jsxs("span",{children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),m?"Importing...":"Select File to Import"]})})})]})]})]}),e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"Hash Backup"]}),e.jsx(_,{children:"Download a backup of your account hash for recovery"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Hs,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsx("p",{className:"font-medium",children:"Critical: Store Securely"}),e.jsx("p",{className:"mt-1",children:"Your account hash is the ONLY way to access your data. Store this backup in a secure location like a password manager. No recovery is possible if lost."})]})]})}),e.jsxs(I,{onClick:O,variant:"outline",className:"w-full",children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Download Hash Backup"]})]})]}),e.jsxs(N,{className:"border-destructive/50",children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center gap-2 text-destructive",children:[e.jsx(ie,{className:"h-5 w-5"}),"Danger Zone"]}),e.jsx(_,{children:"Irreversible actions that permanently delete data"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Gs,{className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5"}),e.jsxs("div",{className:"text-sm text-red-800 dark:text-red-200",children:[e.jsx("p",{className:"font-medium",children:"Warning: Permanent Deletion"}),e.jsx("p",{className:"mt-1",children:"This will permanently delete ALL data in your current workspace. This action cannot be undone."})]})]})}),e.jsxs(I,{variant:"destructive",onClick:()=>i(!0),className:"w-full",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Clear Current Workspace"]})]})]}),e.jsx(as,{open:h,onOpenChange:i,children:e.jsxs(de,{children:[e.jsxs(me,{children:[e.jsx(xe,{children:"Clear All Workspace Data?"}),e.jsxs(ue,{children:["This will permanently delete:",e.jsxs("ul",{className:"mt-2 ml-4 list-disc space-y-1",children:[e.jsx("li",{children:"All frameworks and analyses"}),e.jsx("li",{children:"All evidence and datasets"}),e.jsx("li",{children:"All comments and annotations"}),e.jsx("li",{children:"All reports and exports"})]}),e.jsx("p",{className:"mt-3 font-medium text-destructive",children:"This action cannot be undone. Make sure you have exported any data you want to keep."})]})]}),e.jsxs(he,{children:[e.jsx(je,{children:"Cancel"}),e.jsx(pe,{onClick:E,disabled:A,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:A?"Clearing...":"Yes, Delete Everything"})]})]})})]})}function Sa(){const[s,a]=t.useState("display"),[r,n]=t.useState(!1),{settings:m,loading:d,error:h,updateDisplaySettings:i,updateAISettings:A}=Ks(),{workspaces:g,currentWorkspaceId:T,setCurrentWorkspaceId:L,setWorkspaces:k}=As(),f=typeof window<"u"?localStorage.getItem("omnicore_user_hash"):null,o=t.useCallback(async(p,E,O)=>{if(f)try{const c=await fetch("/api/settings/workspaces",{method:"POST",headers:{"Content-Type":"application/json","X-User-Hash":f},body:JSON.stringify({name:p,type:E,description:O})});if(!c.ok)throw new Error("Failed to create workspace");const F=await c.json();k([...g,F])}catch(c){throw console.error("Create workspace error:",c),c}},[f,g,k]),x=t.useCallback(async p=>{if(f)try{if(!(await fetch(`/api/settings/workspaces/${p}`,{method:"DELETE",headers:{"X-User-Hash":f}})).ok)throw new Error("Failed to delete workspace");if(k(g.filter(O=>O.id!==p)),p===T&&g.length>0){const O=g.filter(c=>c.id!==p);O.length>0&&L(O[0].id)}}catch(E){throw console.error("Delete workspace error:",E),E}},[f,g,T,k,L]),u=t.useCallback(async(p,E,O)=>{if(f)try{const c=await fetch(`/api/settings/workspaces/${p}`,{method:"PUT",headers:{"Content-Type":"application/json","X-User-Hash":f},body:JSON.stringify({name:E,description:O})});if(!c.ok)throw new Error("Failed to update workspace");const F=await c.json();k(g.map(C=>C.id===p?F:C))}catch(c){throw console.error("Update workspace error:",c),c}},[f,g,k]),y=t.useCallback(async p=>{try{n(!0),await i(p)}finally{n(!1)}},[i]),P=t.useCallback(async p=>{try{n(!0),await A(p)}finally{n(!1)}},[A]);return d?e.jsx("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 dark:border-gray-700 border-t-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading settings..."})]})})}):h?e.jsx("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:e.jsx(N,{className:"border-red-200 bg-red-50 dark:bg-red-900/20",children:e.jsx(b,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[e.jsx(oe,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Failed to load settings"}),e.jsx("p",{className:"text-sm mt-1",children:h})]})]})})})}):f?e.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Bs,{className:"h-8 w-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Settings"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your display preferences, workspaces, AI settings, and data"})]}),e.jsxs(ks,{value:s,onValueChange:a,className:"space-y-6",children:[e.jsxs(Cs,{className:"grid grid-cols-2 lg:grid-cols-4 w-full lg:w-auto",children:[e.jsxs(X,{value:"display",className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Display"})]}),e.jsxs(X,{value:"workspaces",className:"flex items-center gap-2",children:[e.jsx(Vs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Workspaces"})]}),e.jsxs(X,{value:"ai",className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"AI"})]}),e.jsxs(X,{value:"data",className:"flex items-center gap-2",children:[e.jsx(zs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Data"})]})]}),e.jsx(q,{value:"display",className:"space-y-6",children:m&&e.jsx(Zs,{settings:m.display,onUpdate:y,updating:r})}),e.jsx(q,{value:"workspaces",className:"space-y-6",children:e.jsx(ha,{workspaces:g.map(p=>({...p,user_hash:f||"",is_default:p.id==="1",created_at:new Date().toISOString(),role:p.role?.toLowerCase()||"owner"})),currentWorkspaceId:T,onWorkspaceChange:L,onWorkspaceCreate:o,onWorkspaceDelete:x,onWorkspaceUpdate:u})}),e.jsx(q,{value:"ai",className:"space-y-6",children:m&&e.jsx(xa,{settings:m.ai,onUpdate:P,updating:r})}),e.jsx(q,{value:"data",className:"space-y-6",children:e.jsx(ua,{userHash:f,workspaceId:T})})]})]}):e.jsx("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:e.jsx(N,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20",children:e.jsx(b,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[e.jsx(oe,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"No Account Hash"}),e.jsx("p",{className:"text-sm mt-1",children:"Please generate or enter your account hash to access settings."})]})]})})})})}export{Sa as SettingsPage};
