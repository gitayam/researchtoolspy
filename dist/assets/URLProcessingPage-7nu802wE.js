import{j as e}from"./ui-vendor-DBphXmDA.js";import{f as B,r as d}from"./react-vendor-CfYLSWvh.js";import{e as G}from"./evidence-to-citation-BKNucZlP.js";import{b as J}from"./citation-library-DsFrzEV3.js";import{u as W,B as l,y as U,I as q}from"./index-DGGXJgUa.js";import{C as i,a as c,b as n,c as u,d as o}from"./card-BQo7RV_Z.js";import{P as H}from"./progress-D6O6TLpv.js";import{C as z}from"./checkbox-CF04fJe8.js";import{_ as K,L as M,G as y,C as Q,ad as X,E as p,A,d as F,c as Y,a7 as j,Y as V,az as Z,a1 as ee,P as se}from"./icons-x9tcvtYN.js";import"./state-vendor-BXB5jEEt.js";function me(){const L=B(),{t:a}=W(),[m,D]=d.useState(""),[N,k]=d.useState(!1),[s,b]=d.useState(null),[w,h]=d.useState(null),[$,v]=d.useState(!1),[f,E]=d.useState(!0),[T,O]=d.useState(!0),P=async()=>{if(!m.trim()){h(a("urlProcessingTool.pleaseEnterUrl"));return}k(!0),h(null),b(null);try{const r=await(await fetch("/api/tools/analyze-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:m,checkWayback:f,checkSEO:T})})).json();r.error?h(r.error):b(r)}catch(t){h(t.message||a("urlProcessingTool.failedToAnalyze"))}finally{k(!1)}},R=async t=>{try{await navigator.clipboard.writeText(t),v(!0),setTimeout(()=>v(!1),2e3)}catch(r){console.error("Failed to copy:",r)}},_=()=>{if(!s)return;const t=JSON.stringify(s,null,2),r=new Blob([t],{type:"application/json"}),g=URL.createObjectURL(r),x=document.createElement("a");x.href=g,x.download=`url-analysis-${new Date().getTime()}.json`,x.click(),URL.revokeObjectURL(g)},C=t=>{switch(t){case"Excellent":return"text-green-600 dark:text-green-400";case"Good":return"text-blue-600 dark:text-blue-400";case"Fair":return"text-yellow-600 dark:text-yellow-400";case"Poor":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},I=async()=>{if(s)try{const t={id:Date.now(),title:s.metadata.title||"Untitled",description:s.metadata.description,who:s.metadata.author,where_location:s.normalizedUrl,when_occurred:new Date().toISOString().split("T")[0],evidence_type:s.metadata.type==="article"?"news_article":"blog_post",credibility:s.reliability.rating==="Excellent"?"A":s.reliability.rating==="Good"?"B":s.reliability.rating==="Fair"?"C":"D",tags:[]},r=G(t,"apa");J(r),alert(`Citation created and added to your library!

Title: ${r.fields.title}

Go to Citations Generator to view and manage it.`)}catch(t){console.error("Failed to create citation:",t),alert("Failed to create citation. Please try again.")}},S=t=>{if(!t)return"N/A";try{if(t.length===14){const r=t.substring(0,4),g=t.substring(4,6),x=t.substring(6,8);return`${g}/${x}/${r}`}return new Date(t).toLocaleDateString()}catch{return t}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(l,{variant:"outline",onClick:()=>L("/dashboard/tools"),children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.backToTools")]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a("urlProcessingTool.title")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a("urlProcessingTool.subtitle")})]})]}),e.jsxs(i,{children:[e.jsxs(c,{children:[e.jsx(n,{children:a("urlProcessingTool.enterUrlTitle")}),e.jsx(u,{children:a("urlProcessingTool.enterUrlDesc")})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"url",children:a("urlProcessingTool.urlLabel")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{id:"url",type:"url",placeholder:a("urlProcessingTool.urlPlaceholder"),value:m,onChange:t=>D(t.target.value),onKeyDown:t=>t.key==="Enter"&&P(),className:"flex-1"}),e.jsx(l,{onClick:P,disabled:N||!m.trim(),children:N?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-4 w-4 mr-2 animate-spin"}),a("urlProcessingTool.analyzing")]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.analyze")]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:a("urlProcessingTool.analysisOptions")}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{id:"wayback",checked:f,onCheckedChange:t=>E(t)}),e.jsx("label",{htmlFor:"wayback",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:a("urlProcessingTool.checkWayback")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{id:"seo",checked:T,onCheckedChange:t=>O(t)}),e.jsx("label",{htmlFor:"seo",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:a("urlProcessingTool.seoAnalysis")})]})]})]}),w&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-md",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:w})]})]})]}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(i,{className:"border-blue-500 dark:border-blue-400",children:[e.jsxs(c,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),a("urlProcessingTool.quickAccessTitle")]}),e.jsx(u,{children:a("urlProcessingTool.quickAccessDesc")})]}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs(l,{variant:"outline",className:"justify-start",onClick:()=>window.open(`https://12ft.io/proxy?q=${encodeURIComponent(s.normalizedUrl)}`,"_blank"),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.paywallBypass")]}),e.jsxs(l,{variant:"outline",className:"justify-start",onClick:()=>window.open(`https://archive.is/?run=1&url=${encodeURIComponent(s.normalizedUrl)}`,"_blank"),children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.archiveIs")]}),e.jsxs(l,{variant:"outline",className:"justify-start",onClick:()=>window.open(`https://webcache.googleusercontent.com/search?q=cache:${encodeURIComponent(s.normalizedUrl)}`,"_blank"),children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.googleCache")]}),e.jsxs(l,{variant:"outline",className:"justify-start",onClick:()=>window.open(`https://outline.com/${s.normalizedUrl}`,"_blank"),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.outlineReader")]})]})})]}),e.jsxs(i,{children:[e.jsx(c,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),a("urlProcessingTool.reliabilityScore")]})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-6xl font-bold ${C(s.reliability.rating)}`,children:s.reliability.score}),e.jsx("div",{className:"text-xl text-gray-600 dark:text-gray-400",children:a("urlProcessingTool.outOf100")}),e.jsx("div",{className:`text-lg font-semibold mt-2 ${C(s.reliability.rating)}`,children:a(`urlProcessingTool.${s.reliability.rating.toLowerCase()}`)})]}),e.jsx(H,{value:s.reliability.score,className:"h-3"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("urlProcessingTool.sslHttps")}),e.jsxs("div",{className:"text-lg font-semibold",children:[s.reliability.breakdown.ssl,"/20"]})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("urlProcessingTool.domainAge")}),e.jsxs("div",{className:"text-lg font-semibold",children:[s.reliability.breakdown.domainAge,"/20"]})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("urlProcessingTool.content")}),e.jsxs("div",{className:"text-lg font-semibold",children:[s.reliability.breakdown.contentQuality,"/20"]})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("urlProcessingTool.archive")}),e.jsxs("div",{className:"text-lg font-semibold",children:[s.reliability.breakdown.archiveHistory,"/15"]})]})]}),s.reliability.notes&&s.reliability.notes.length>0&&e.jsx("div",{className:"mt-4 space-y-1",children:s.reliability.notes.map((t,r)=>e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t},r))})]})})]}),e.jsxs(i,{children:[e.jsx(c,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),a("urlProcessingTool.pageMetadata")]})}),e.jsx(o,{children:e.jsxs("dl",{className:"space-y-2",children:[s.metadata.title&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.title")}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.metadata.title})]}),s.metadata.description&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.description")}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.metadata.description})]}),s.metadata.author&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.author")}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.metadata.author})]}),s.metadata.siteName&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.siteName")}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.metadata.siteName})]}),s.metadata.type&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.type")}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.metadata.type})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(i,{children:[e.jsx(c,{children:e.jsx(n,{children:a("urlProcessingTool.domainInformation")})}),e.jsx(o,{children:e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.domain")}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.domain.name})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.protocol")}),e.jsxs("dd",{className:"text-sm text-gray-900 dark:text-white",children:[s.domain.protocol.toUpperCase(),s.domain.ssl&&e.jsxs("span",{className:"ml-2 text-green-600 dark:text-green-400",children:[e.jsx(j,{className:"h-4 w-4 inline"})," ",a("urlProcessingTool.secure")]})]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.path")}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white font-mono",children:s.domain.path})]})]})})]}),e.jsxs(i,{children:[e.jsx(c,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),a("urlProcessingTool.statusPerformance")]})}),e.jsx(o,{children:e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.statusCode")}),e.jsxs("dd",{className:"text-sm text-gray-900 dark:text-white",children:[s.status.code,s.status.ok?e.jsx(j,{className:"h-4 w-4 inline ml-2 text-green-600 dark:text-green-400"}):e.jsx(Z,{className:"h-4 w-4 inline ml-2 text-red-600 dark:text-red-400"})]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.responseTime")}),e.jsxs("dd",{className:"text-sm text-gray-900 dark:text-white",children:[s.status.responseTime,"ms"]})]}),s.status.redirects.length>0&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.redirects")}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.status.redirects.length})]})]})})]})]}),s.wayback&&e.jsxs(i,{children:[e.jsx(c,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),a("urlProcessingTool.archiveHistory")]})}),e.jsx(o,{children:s.wayback.isArchived?e.jsxs("div",{className:"space-y-3",children:[s.wayback.message&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-md",children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:s.wayback.message})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.wayback.firstSnapshot&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.firstSnapshot")}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:S(s.wayback.firstSnapshot)})]}),s.wayback.lastSnapshot&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.latestSnapshot")}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:S(s.wayback.lastSnapshot)})]}),s.wayback.totalSnapshots&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a("urlProcessingTool.totalSnapshots")}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.wayback.totalSnapshots})]})]}),s.wayback.archiveUrl&&e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>window.open(s.wayback.archiveUrl,"_blank"),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.viewInWayback")]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.wayback.message||a("urlProcessingTool.notArchived")}),s.wayback.message&&s.wayback.message.includes("Failed")&&e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>window.open(`https://web.archive.org/save/${s.normalizedUrl}`,"_blank"),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.saveToWayback")]})]})})]}),e.jsxs(i,{children:[e.jsxs(c,{children:[e.jsx(n,{children:a("urlProcessingTool.exportCitationTools")}),e.jsx(u,{children:a("urlProcessingTool.exportCitationDesc")})]}),e.jsxs(o,{className:"flex flex-wrap gap-2",children:[e.jsxs(l,{onClick:I,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.createCitation")]}),e.jsxs(l,{variant:"outline",onClick:_,children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.exportJson")]}),e.jsx(l,{variant:"outline",onClick:()=>R(JSON.stringify(s,null,2)),children:$?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.copied")]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),a("urlProcessingTool.copyToClipboard")]})})]})]})]})]})}export{me as URLProcessingPage};
