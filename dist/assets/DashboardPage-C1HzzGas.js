import{j as e}from"./ui-vendor-DBphXmDA.js";import{f as Y,r as m,L as I}from"./react-vendor-CfYLSWvh.js";import{C as t,a as i,b as n,d as o,c as D}from"./card-BGAig-Dv.js";import{u as z,B as g,e as G,f as T,D as U,g as H,h as V,i as W,j as q,k as Z}from"./index-QqleixXe.js";import{x as h,a as u,B as x,w as f,d as N,V as Q,U as v,e as M,W as y,z as $,F as j,L as J,Y as K,m as X,Z as ee}from"./icons-x9tcvtYN.js";import"./state-vendor-BXB5jEEt.js";function oe(){const{t:a}=z(),c=Y(),[b,F]=m.useState([]),[k,C]=m.useState(!0),A=[],r=[];m.useEffect(()=>{E()},[]);const E=async()=>{try{C(!0);const s=localStorage.getItem("omnicore_user_hash"),d=await fetch("/api/investigations?status=active",{headers:{...s&&{Authorization:`Bearer ${s}`}}});if(d.ok){const p=await d.json();F(p.investigations||[])}}catch(s){console.error("Error loading investigations:",s)}finally{C(!1)}},B=m.useMemo(()=>[{name:"SWOT",route:"/dashboard/analysis-frameworks/swot-dashboard",icon:h,description:"Strengths, Weaknesses, Opportunities, Threats"},{name:"ACH",route:"/dashboard/analysis-frameworks/ach-dashboard",icon:u,description:"Analysis of Competing Hypotheses"},{name:"COG",route:"/dashboard/analysis-frameworks/cog",icon:x,description:"Center of Gravity Analysis"},{name:"PMESII-PT",route:"/dashboard/analysis-frameworks/pmesii-pt",icon:f,description:"Multi-dimensional Operational Environment"},{name:"DOTMLPF",route:"/dashboard/analysis-frameworks/dotmlpf",icon:N,description:"Capability Analysis Framework"},{name:"DIME",route:"/dashboard/analysis-frameworks/dime",icon:h,description:"Diplomatic, Information, Military, Economic"},{name:"PEST",route:"/dashboard/analysis-frameworks/pest",icon:Q,description:"Political, Economic, Social, Technological"},{name:"Deception",route:"/dashboard/analysis-frameworks/deception",icon:u,description:"Deception Detection & Analysis"},{name:"Behavior",route:"/dashboard/analysis-frameworks/behavior",icon:v,description:"Behavioral Analysis"},{name:"COM-B",route:"/dashboard/analysis-frameworks/comb-analysis",icon:x,description:"Capability, Opportunity, Motivation"},{name:"Starbursting",route:"/dashboard/analysis-frameworks/starbursting",icon:h,description:"Question Generation Framework"},{name:"Causeway",route:"/dashboard/analysis-frameworks/causeway",icon:f,description:"Critical Infrastructure Analysis"},{name:"Stakeholder",route:"/dashboard/analysis-frameworks/stakeholder",icon:v,description:"Stakeholder Analysis"},{name:"Surveillance",route:"/dashboard/analysis-frameworks/surveillance",icon:u,description:"ISR Planning Framework"},{name:"Fundamental Flow",route:"/dashboard/analysis-frameworks/fundamental-flow",icon:M,description:"Surveillance Detection Framework"}],[]),L=m.useMemo(()=>{const s=r.filter(l=>l.framework_type==="swot").length,d=r.filter(l=>l.framework_type==="cog").length,p=r.filter(l=>l.framework_type==="pmesii-pt").length,w=r.filter(l=>l.framework_type==="ach").length;return[{name:a("frameworks.swot"),count:s,trend:s>0?`${s} ${a("dashboard.analyses")}`:a("dashboard.noAnalysesYet"),icon:h,color:"bg-blue-500"},{name:a("frameworks.cog"),count:d,trend:d>0?`${d} ${a("dashboard.analyses")}`:a("dashboard.noAnalysesYet"),icon:x,color:"bg-green-500"},{name:a("frameworks.pmesiipt"),count:p,trend:p>0?`${p} ${a("dashboard.analyses")}`:a("dashboard.noAnalysesYet"),icon:f,color:"bg-purple-500"},{name:a("frameworks.ach"),count:w,trend:w>0?`${w} ${a("dashboard.analyses")}`:a("dashboard.noAnalysesYet"),icon:u,color:"bg-orange-500"}]},[r,a]),S=r.length;r.filter(s=>s.status==="in_progress").length;const _=r.filter(s=>s.status==="completed").length,P=m.useMemo(()=>[{title:a("dashboard.newSwot"),description:a("dashboard.strategicPlanning"),href:"/dashboard/analysis-frameworks/swot-dashboard",icon:h,color:"bg-blue-500 hover:bg-blue-600"},{title:a("dashboard.cogAnalysis"),description:a("dashboard.centerOfGravity"),href:"/dashboard/analysis-frameworks/cog",icon:x,color:"bg-green-500 hover:bg-green-600"},{title:a("dashboard.researchTools"),description:a("dashboard.urlAndCitations"),href:"/dashboard/tools",icon:u,color:"bg-purple-500 hover:bg-purple-600"},{title:a("dashboard.viewReports"),description:a("dashboard.exportShare"),href:"/dashboard/reports",icon:N,color:"bg-orange-500 hover:bg-orange-600"}],[a]),O=s=>{switch(s){case"structured_research":return e.jsx(N,{className:"h-4 w-4"});case"rapid_analysis":return e.jsx(ee,{className:"h-4 w-4"});default:return e.jsx(j,{className:"h-4 w-4"})}},R=s=>{switch(s){case"structured_research":return"Structured";case"rapid_analysis":return"Rapid";default:return"General"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:a("dashboard.welcome")}),e.jsx("p",{className:"text-purple-100 mb-4",children:"Start a new investigation or continue working on existing research"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(g,{onClick:()=>c("/dashboard/investigations/new"),className:"bg-white text-purple-700 hover:bg-purple-50",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"New Investigation"]}),e.jsxs(g,{onClick:()=>c("/dashboard/investigations"),variant:"outline",className:"border-white text-white hover:bg-purple-700",children:["View All",e.jsx($,{className:"h-4 w-4 ml-2"})]})]})]}),e.jsx(j,{className:"h-20 w-20 text-purple-400 opacity-50"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Active Investigations"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:k?"...":b.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:b.length===0?"Start your first investigation":"Currently active"})]})]}),e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:a("dashboard.totalAnalyses")}),e.jsx(M,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:S}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a(S===0?"dashboard.startCreating":"dashboard.totalCreated")})]})]}),e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:a("dashboard.completed")}),e.jsx(h,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:_}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a(_===0?"dashboard.noCompleted":"dashboard.completedAnalyses")})]})]}),e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:a("dashboard.shared")}),e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("dashboard.comingSoon")})]})]})]}),e.jsxs(t,{children:[e.jsxs(i,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5"}),"Active Investigations"]}),e.jsxs(g,{variant:"ghost",size:"sm",onClick:()=>c("/dashboard/investigations"),children:["View All",e.jsx($,{className:"h-4 w-4 ml-1"})]})]}),e.jsx(D,{children:"Your ongoing research investigations"})]}),e.jsx(o,{children:k?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(J,{className:"h-6 w-6 animate-spin text-purple-600"})}):b.length>0?e.jsx("div",{className:"space-y-3",children:b.slice(0,5).map(s=>e.jsxs("div",{onClick:()=>c(`/dashboard/investigations/${s.id}`),className:"flex items-center gap-4 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center flex-shrink-0",children:O(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:s.title}),e.jsx(G,{variant:"outline",className:"text-xs",children:R(s.type)})]}),s.description&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-1",children:s.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[e.jsxs("span",{children:[s.evidence_count," evidence"]}),e.jsxs("span",{children:[s.actor_count," actors"]}),e.jsxs("span",{children:[s.framework_count," analyses"]})]})]}),e.jsx("div",{className:"text-xs text-gray-400",children:T(s.updated_at)})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(j,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"No active investigations"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Create your first investigation to organize your research"}),e.jsxs(g,{onClick:()=>c("/dashboard/investigations/new"),size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Create Investigation"]})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:a("dashboard.quickActions")}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:P.map(s=>e.jsx(I,{to:s.href,children:e.jsx(t,{className:"hover:shadow-md transition-shadow cursor-pointer h-full",children:e.jsxs(i,{children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${s.color} flex items-center justify-center mb-2`,children:e.jsx(s.icon,{className:"h-5 w-5 text-white"})}),e.jsx(n,{className:"text-sm",children:s.title}),e.jsx(D,{className:"text-xs",children:s.description})]})})},s.title))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(t,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),a("dashboard.recentActivity")]})}),e.jsx(o,{children:A.length>0?e.jsx("div",{className:"space-y-3",children:A.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(x,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(I,{to:`/analysis-frameworks/${s.framework_type}/${s.id}`,className:"text-sm font-medium text-gray-900 dark:text-white hover:text-blue-600",children:s.title}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s.framework_type.toUpperCase()," â€¢ ",T(s.updated_at)]})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:s.status.replace("_"," ")})]},s.id))}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(x,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:a("dashboard.noRecentActivity")}),e.jsx("p",{className:"text-xs text-gray-400",children:a("dashboard.startNewAnalysis")})]})})]}),e.jsxs(t,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),a("dashboard.frameworkUsage")]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-4",children:L.map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 ${s.color} rounded-full flex items-center justify-center`,children:e.jsx(s.icon,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:s.name}),e.jsx("span",{className:"text-sm font-semibold",children:s.count})]}),e.jsx("p",{className:"text-xs text-gray-500",children:s.trend})]})]},s.name))})})]})]}),e.jsx(t,{className:"border-dashed border-2 border-gray-300 dark:border-gray-600",children:e.jsxs(o,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(y,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:a("dashboard.startNewAnalysisTitle")}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:a("dashboard.chooseFramework")}),e.jsxs(U,{children:[e.jsx(H,{asChild:!0,children:e.jsxs(g,{children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),a("dashboard.createAnalysis"),e.jsx(X,{className:"h-4 w-4 ml-2"})]})}),e.jsxs(V,{align:"center",className:"w-80",children:[e.jsx(W,{children:"Select Analysis Framework"}),e.jsx(q,{}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:B.map(s=>e.jsxs(Z,{onClick:()=>c(s.route),className:"cursor-pointer flex items-start gap-3 py-3",children:[e.jsx(s.icon,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:s.description})]})]},s.name))})]})]})]})})]})}export{oe as DashboardPage};
