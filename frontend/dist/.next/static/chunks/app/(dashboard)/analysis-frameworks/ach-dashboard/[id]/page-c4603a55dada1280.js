(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1631],{18186:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])},25027:(e,t,r)=>{"use strict";r.d(t,{Je:()=>n,Ln:()=>d,U_:()=>l,i5:()=>a,i7:()=>s});let s=[{label:"Strongly Supports",value:13,color:"text-green-800 bg-green-100 dark:text-green-100 dark:bg-green-800",description:"Evidence strongly confirms hypothesis"},{label:"Moderately Supports",value:8,color:"text-green-700 bg-green-50 dark:text-green-200 dark:bg-green-700",description:"Evidence moderately confirms hypothesis"},{label:"Slightly Supports",value:5,color:"text-green-600 bg-green-50 dark:text-green-200 dark:bg-green-600",description:"Evidence slightly confirms hypothesis"},{label:"Weakly Supports",value:3,color:"text-green-500 bg-green-50 dark:text-green-200 dark:bg-green-500",description:"Evidence weakly confirms hypothesis"},{label:"Very Weakly Supports",value:1,color:"text-green-400 bg-green-50 dark:text-green-200 dark:bg-green-400",description:"Evidence very weakly confirms hypothesis"},{label:"Neutral",value:0,color:"text-gray-600 bg-gray-100 dark:text-gray-200 dark:bg-gray-600",description:"Evidence neither supports nor contradicts"},{label:"Very Weakly Contradicts",value:-1,color:"text-red-400 bg-red-50 dark:text-red-200 dark:bg-red-400",description:"Evidence very weakly contradicts hypothesis"},{label:"Weakly Contradicts",value:-3,color:"text-red-500 bg-red-50 dark:text-red-200 dark:bg-red-500",description:"Evidence weakly contradicts hypothesis"},{label:"Slightly Contradicts",value:-5,color:"text-red-600 bg-red-50 dark:text-red-200 dark:bg-red-600",description:"Evidence slightly contradicts hypothesis"},{label:"Moderately Contradicts",value:-8,color:"text-red-700 bg-red-50 dark:text-red-200 dark:bg-red-700",description:"Evidence moderately contradicts hypothesis"},{label:"Strongly Contradicts",value:-13,color:"text-red-800 bg-red-100 dark:text-red-100 dark:bg-red-800",description:"Evidence strongly contradicts hypothesis"}],a=[{label:"Strongly Supports",value:5,color:"text-green-800 bg-green-100 dark:text-green-100 dark:bg-green-800",description:"Evidence strongly confirms hypothesis"},{label:"Moderately Supports",value:4,color:"text-green-700 bg-green-50 dark:text-green-200 dark:bg-green-700",description:"Evidence moderately confirms hypothesis"},{label:"Slightly Supports",value:3,color:"text-green-600 bg-green-50 dark:text-green-200 dark:bg-green-600",description:"Evidence slightly confirms hypothesis"},{label:"Weakly Supports",value:2,color:"text-green-500 bg-green-50 dark:text-green-200 dark:bg-green-500",description:"Evidence weakly confirms hypothesis"},{label:"Very Weakly Supports",value:1,color:"text-green-400 bg-green-50 dark:text-green-200 dark:bg-green-400",description:"Evidence very weakly confirms hypothesis"},{label:"Neutral",value:0,color:"text-gray-600 bg-gray-100 dark:text-gray-200 dark:bg-gray-600",description:"Evidence neither supports nor contradicts"},{label:"Very Weakly Contradicts",value:-1,color:"text-red-400 bg-red-50 dark:text-red-200 dark:bg-red-400",description:"Evidence very weakly contradicts hypothesis"},{label:"Weakly Contradicts",value:-2,color:"text-red-500 bg-red-50 dark:text-red-200 dark:bg-red-500",description:"Evidence weakly contradicts hypothesis"},{label:"Slightly Contradicts",value:-3,color:"text-red-600 bg-red-50 dark:text-red-200 dark:bg-red-600",description:"Evidence slightly contradicts hypothesis"},{label:"Moderately Contradicts",value:-4,color:"text-red-700 bg-red-50 dark:text-red-200 dark:bg-red-700",description:"Evidence moderately contradicts hypothesis"},{label:"Strongly Contradicts",value:-5,color:"text-red-800 bg-red-100 dark:text-red-100 dark:bg-red-800",description:"Evidence strongly contradicts hypothesis"}];function i(e,t,r){let s=Math.abs(e)/("logarithmic"===r?13:5),a=t/13;return s>.6&&a<.4?.3+.7*a:s>.4&&a<.6?.5+.5*a:.7+.3*a}function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"logarithmic";return e.map(s=>{let a=Array.from(t.values()).map(e=>e.get(s.id)).filter(e=>void 0!==e),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"logarithmic";return e.reduce((e,r)=>{var s,a;let d=(null==(s=r.weight)?void 0:s.credibility)||3,l=(null==(a=r.weight)?void 0:a.relevance)||3,n=r.evidenceCredibility?r.evidenceCredibility/13:d*l/25,c=r.evidenceCredibility?i(r.score,r.evidenceCredibility,t):1;return e+r.score*c*n},0)}(a,r),l=a.reduce((e,t)=>e+t.score,0),n=a.filter(e=>e.score>0).length,c=a.filter(e=>e.score<0).length,o=a.filter(e=>0===e.score).length,h=a.length>0?a.reduce((e,t)=>{var r,s;return e+(((null==(r=t.weight)?void 0:r.credibility)||3)+((null==(s=t.weight)?void 0:s.relevance)||3))/2},0)/a.length:0,x=new Map;return e.forEach(e=>{let r=Array.from(t.values()).map(t=>{var r;return(null==(r=t.get(e.id))?void 0:r.score)||0});x.set(e.id,r.reduce((e,t)=>e+t,0))}),{hypothesisId:s.id,totalScore:l,weightedScore:d,supportingEvidence:n,contradictingEvidence:c,neutralEvidence:o,diagnosticValue:function(e){let t=Array.from(e.values());if(t.length<2)return 0;let r=t.reduce((e,t)=>e+t,0)/t.length;return Math.sqrt(t.reduce((e,t)=>e+Math.pow(t-r,2),0)/t.length)}(x),confidenceLevel:function(e,t,r){if(r&&r.length>0){let t=r.filter(e=>void 0!==e.evidenceCredibility).map(e=>e.evidenceCredibility);if(t.length>0){let r=t.reduce((e,t)=>e+t,0)/t.length,s=r/13*e*5;return s>12&&r>=8?"High":s>6&&r>=5?"Medium":"Low"}}let s=e*t;return s>15?"High":s>7?"Medium":"Low"}(a.length,h,a),rejectionThreshold:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"logarithmic";return e<("logarithmic"===t?-20:-10)}(d,r)}}).sort((e,t)=>t.weightedScore-e.weightedScore)}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"logarithmic";return("logarithmic"===t?s:a).find(t=>t.value===e)}function n(e,t){let r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"logarithmic",a="logarithmic"===s?13:5,d=i(e,t,s),l=e*d;return r=Math.abs(l)>.8*a?t>=8?"Very Strong":"Claimed Strong (Low Credibility)":Math.abs(l)>.6*a?t>=6?"Strong":"Claimed Strong (Moderate Credibility)":Math.abs(l)>.4*a?t>=4?"Moderate":"Weak (Low Credibility)":"Weak",{effectiveScore:l,strengthDescription:r,confidenceAdjustment:d}}},33109:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},40646:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},47924:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},50797:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W});var s=r(95155),a=r(12115),i=r(35695),d=r(40646),l=r(54861),n=r(85339),c=r(54416),o=r(69074),h=r(92657),x=r(6740),g=r(72713),m=r(66516),p=r(91788),y=r(57434),u=r(62332),b=r(23837),v=r(13717),j=r(70463),k=r(33109),N=r(18186),f=r(47924),w=r(66695),S=r(30285),A=r(26126),E=r(44838),C=r(88262),_=r(25731),M=r(59434),H=r(25027),L=r(33139);function W(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),{toast:r}=(0,C.d)(),[W,B]=(0,a.useState)(null),[F,R]=(0,a.useState)(!0),[Z,z]=(0,a.useState)(!1),[I,T]=(0,a.useState)(null),[V,O]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let s=async()=>{try{let t=await _.u.get("/analysis-frameworks/".concat(e.id));B(t)}catch(e){r({title:"Error",description:(e instanceof Error?e.message:"An unknown error occurred")||"Failed to load ACH analysis",variant:"destructive"}),t.push("/frameworks")}finally{R(!1)}};e.id&&s()},[e.id,t,r]);let $=async e=>{if(W)try{await (0,L.re)({title:W.title,content:W,format:e}),r({title:"Export Successful",description:"ACH analysis exported as ".concat(e.toUpperCase())})}catch(e){r({title:"Export Failed",description:(e instanceof Error?e.message:"An unknown error occurred")||"Failed to export analysis",variant:"destructive"})}};if(F)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Loading ACH analysis..."})]})});if(!W)return null;let q=()=>W.data.hypotheses.map(e=>{let t=(e=>{let t=W.data.evidence.map(t=>t.hypotheses_scores[e]).filter(Boolean);if(0===t.length)return{supports:0,contradicts:0,neutral:0,not_applicable:0,weightedScore:0};let r={supports:t.filter(e=>"supports"===e).length,contradicts:t.filter(e=>"contradicts"===e).length,neutral:t.filter(e=>"neutral"===e).length,not_applicable:t.filter(e=>"not_applicable"===e).length},s=+r.supports+-1*r.contradicts;return{...r,weightedScore:s}})(e.id);return{...e,...t}}).sort((e,t)=>t.weightedScore-e.weightedScore),D=async()=>{z(!0);try{await new Promise(e=>setTimeout(e,1500));let e=q(),t={strongest_hypothesis:e[0],weakest_hypothesis:e[e.length-1],most_diagnostic_evidence:P(),competing_hypotheses:G(e),confidence_assessment:J(e),recommendations:U(e)};T(t),O(!0),r({title:"Analysis Complete",description:"Generated insights and recommendations"})}catch(e){r({title:"Analysis Failed",description:(e instanceof Error?e.message:"An unknown error occurred")||"Failed to generate analysis",variant:"destructive"})}finally{z(!1)}},P=()=>W.data.evidence.map(e=>{let t=new Set(Object.values(e.hypotheses_scores)).size;return{...e,diagnosticity:t}}).sort((e,t)=>t.diagnosticity-e.diagnosticity).slice(0,3),G=e=>{if(e.length<2)return[];let t=e[0].weightedScore;return e.filter(r=>2>=Math.abs(r.weightedScore-t)&&r.id!==e[0].id)},J=e=>{var t;if(0===e.length)return"Low";let r=e[0].weightedScore-((null==(t=e[1])?void 0:t.weightedScore)||0);return r>5?"High":r>2?"Medium":"Low"},U=e=>{let t=[];return"Low"===J(e)&&(t.push("Gather additional discriminating evidence"),t.push("Consider additional hypotheses not yet explored")),W.data.evidence.length<5&&t.push("Add more evidence to strengthen analysis"),e.length>0&&e[0].contradicts>0&&t.push("Investigate contradicting evidence for top hypothesis"),t.push("Review evidence quality and reliability"),t.push("Consider alternative interpretations of key evidence"),t};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:W.title}),(0,s.jsx)(A.E,{className:{draft:"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200",in_progress:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",completed:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200"}[W.status],children:W.status.replace("_"," ")})]}),W.description&&(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:W.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),"Created ",(0,M.fw)(W.created_at)]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),"Last updated ",(0,M.fw)(W.updated_at)]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(S.$,{variant:"outline",onClick:D,disabled:Z,children:Z?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Deep Analysis"]})}),(0,s.jsxs)(S.$,{variant:"outline",onClick:()=>{r({title:"Share",description:"Share functionality coming soon"})},children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,s.jsxs)(E.rI,{children:[(0,s.jsx)(E.ty,{asChild:!0,children:(0,s.jsxs)(S.$,{variant:"outline",children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Export"]})}),(0,s.jsxs)(E.SQ,{align:"end",children:[(0,s.jsx)(E.lp,{children:"Export Format"}),(0,s.jsx)(E.mB,{}),(0,s.jsxs)(E._2,{onClick:()=>$("pdf"),children:[(0,s.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Export as PDF"]}),(0,s.jsxs)(E._2,{onClick:()=>$("word"),children:[(0,s.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Export as Word"]}),(0,s.jsxs)(E._2,{onClick:()=>$("markdown"),children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Export as Markdown"]}),(0,s.jsxs)(E._2,{onClick:()=>$("json"),children:[(0,s.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Export as JSON"]})]})]}),(0,s.jsxs)(S.$,{onClick:()=>{t.push("/analysis-frameworks/ach/create?edit=".concat(e.id))},className:"bg-orange-600 hover:bg-orange-700",children:[(0,s.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),V&&I&&(0,s.jsxs)(w.Zp,{className:"border-2 border-purple-200 dark:border-purple-800 bg-purple-50/50 dark:bg-purple-900/20",children:[(0,s.jsxs)(w.aR,{children:[(0,s.jsxs)(w.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(j.A,{className:"h-5 w-5 text-purple-600"}),"Analysis Insights"]}),(0,s.jsx)(w.BT,{children:"Deep analysis results and recommendations"})]}),(0,s.jsxs)(w.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Strongest Hypothesis"}),(0,s.jsxs)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg border border-green-200 dark:border-green-800",children:[(0,s.jsx)("p",{className:"font-medium",children:I.strongest_hypothesis.text}),(0,s.jsxs)("div",{className:"mt-2 text-sm text-green-700",children:["Score: ",I.strongest_hypothesis.weightedScore,"(",I.strongest_hypothesis.supports," supports,",I.strongest_hypothesis.contradicts," contradicts)"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Confidence Assessment"}),(0,s.jsxs)(A.E,{className:"\n                ".concat("High"===I.confidence_assessment?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"","\n                ").concat("Medium"===I.confidence_assessment?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200":"","\n                ").concat("Low"===I.confidence_assessment?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200":"","\n              "),children:[I.confidence_assessment," Confidence"]})]}),I.competing_hypotheses.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Competing Hypotheses"}),(0,s.jsx)("div",{className:"space-y-2",children:I.competing_hypotheses.map((e,t)=>(0,s.jsxs)("div",{className:"p-2 bg-yellow-50 dark:bg-yellow-900/30 rounded border border-yellow-200 dark:border-yellow-800",children:[(0,s.jsx)("p",{className:"text-sm",children:e.text}),(0,s.jsxs)("p",{className:"text-xs text-yellow-700 mt-1",children:["Score: ",e.weightedScore]})]},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Most Diagnostic Evidence"}),(0,s.jsx)("div",{className:"space-y-2",children:I.most_diagnostic_evidence.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsxs)(A.E,{variant:"outline",className:"text-xs mt-0.5",children:["E",t+1]}),(0,s.jsx)("p",{className:"text-sm",children:e.text})]},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Recommendations"}),(0,s.jsx)("ul",{className:"space-y-2",children:I.recommendations.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-purple-500 mt-1",children:"â€¢"}),(0,s.jsx)("span",{className:"text-sm",children:e})]},t))})]})]})]}),(0,s.jsxs)(w.Zp,{children:[(0,s.jsx)(w.aR,{children:(0,s.jsxs)(w.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(k.A,{className:"h-5 w-5"}),"Analysis Summary"]})}),(0,s.jsx)(w.Wu,{children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:W.data.hypotheses.length}),(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Hypotheses"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:W.data.evidence.length}),(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Evidence Items"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:W.data.evidence.reduce((e,t)=>e+Object.values(t.hypotheses_scores).filter(e=>"supports"===e).length,0)}),(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Supporting Links"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-600",children:W.data.evidence.reduce((e,t)=>e+Object.values(t.hypotheses_scores).filter(e=>"contradicts"===e).length,0)}),(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Contradicting Links"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-lg font-bold text-purple-600",children:"logarithmic"===W.data.scaleType?"Logarithmic (Fibonacci)":"linear"===W.data.scaleType?"Linear":"Logarithmic (Fibonacci)"}),(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Scoring Scale"})]})]})})]}),(0,s.jsxs)(w.Zp,{className:"border-2 border-dashed border-orange-300 dark:border-orange-700 bg-orange-50 dark:bg-orange-900/20",children:[(0,s.jsxs)(w.aR,{children:[(0,s.jsxs)(w.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"h-5 w-5"}),"Hypothesis Ranking (by Weighted Score)"]}),(0,s.jsx)(w.BT,{children:"Ranked by consistency scores - higher scores indicate stronger hypotheses"})]}),(0,s.jsx)(w.Wu,{children:(0,s.jsx)("div",{className:"space-y-3",children:q().map((e,t)=>{let r=t+1,a=W.data.evidence.length>0,i=a&&e.weightedScore>0&&0===t,d=a&&0!==e.weightedScore;return(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border ".concat(d&&1===r?"border-green-300 dark:border-green-700 bg-green-50 dark:bg-green-900/20":d&&2===r?"border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20":d&&3===r?"border-yellow-300 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(A.E,{variant:d&&i?"default":"outline",className:d&&1===r?"bg-green-600":d&&2===r?"bg-blue-600":d&&3===r?"bg-yellow-600":"",children:["#",r]}),i&&(0,s.jsx)(N.A,{className:"h-4 w-4 text-yellow-600"})]}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("p",{className:"text-sm font-medium leading-relaxed",children:e.text})}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-lg font-bold ".concat(e.weightedScore>0?"text-green-600":e.weightedScore<0?"text-red-600":"text-gray-600"),children:[e.weightedScore>0?"+":"",e.weightedScore]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.supports,"S / ",e.contradicts,"C"]})]})]},e.id)})})})]}),(0,s.jsxs)(w.Zp,{className:"border-orange-200 dark:border-orange-800",children:[(0,s.jsxs)(w.aR,{children:[(0,s.jsxs)(w.ZB,{className:"flex items-center gap-2 text-orange-800 dark:text-orange-200",children:[(0,s.jsx)(g.A,{className:"h-5 w-5"}),"Hypothesis Analysis & Ranking"]}),(0,s.jsx)(w.BT,{children:"Weighted analysis with confidence levels and diagnostic values"})]}),(0,s.jsx)(w.Wu,{children:(0,s.jsx)("div",{className:"space-y-4",children:(()=>{var e;let{hypotheses:t,evidenceScores:r}=(()=>{var e;if(!(null==W?void 0:W.data))return{hypotheses:[],evidenceScores:new Map};let t=W.data.hypotheses||[],r=new Map;return null==(e=W.data.evidence)||e.forEach(e=>{if(e.hypotheses_scores){let t=new Map;Object.entries(e.hypotheses_scores).forEach(r=>{let[s,a]=r,i={hypothesisId:s,evidenceId:e.id,score:0,weight:{credibility:3,relevance:3},evidenceCredibility:void 0};t.set(s,i)}),r.set(e.id,t)}}),{hypotheses:t,evidenceScores:r}})(),s=(null==W||null==(e=W.data)?void 0:e.scaleType)||"logarithmic";return(0,H.Ln)(t,r,s)})().map((e,t)=>{let r=W.data.hypotheses.find(t=>t.id===e.hypothesisId),a=t+1,i=0===t,d=e.supportingEvidence+e.contradictingEvidence>0;return(0,s.jsxs)("div",{className:"border rounded-lg p-4 ".concat(i&&d?"border-green-300 dark:border-green-700 bg-green-50 dark:bg-green-900/20":2===a&&d?"border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20":3===a&&d?"border-yellow-300 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-700"),children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(A.E,{variant:i&&d?"default":"outline",className:"mt-1",children:["#",a]}),i&&d&&(0,s.jsx)(N.A,{className:"h-4 w-4 text-yellow-600"}),e.averageConfidence<.5&&(0,s.jsx)(A.E,{variant:"outline",className:"text-xs bg-red-50 text-red-700 border-red-200",children:"Low Confidence"})]}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("p",{className:"text-sm leading-relaxed font-medium",children:null==r?void 0:r.text})}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-lg font-bold ".concat(e.weightedScore>0?"text-green-600 dark:text-green-400":e.weightedScore<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:[e.weightedScore>0?"+":"",e.weightedScore.toFixed(2)]}),(0,s.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Weighted Score"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-green-700 dark:text-green-400",children:"Supporting"}),(0,s.jsx)("div",{className:"text-green-600 dark:text-green-400",children:e.supportingEvidence})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-red-700 dark:text-red-400",children:"Contradicting"}),(0,s.jsx)("div",{className:"text-red-600 dark:text-red-400",children:e.contradictingEvidence})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-700 dark:text-gray-400",children:"Neutral"}),(0,s.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:e.neutralEvidence})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-blue-700 dark:text-blue-400",children:"Diagnostic Value"}),(0,s.jsx)("div",{className:"text-blue-600 dark:text-blue-400",children:e.diagnosticValue.toFixed(2)})]})]})]},e.hypothesisId)})})})]}),(0,s.jsxs)(w.Zp,{children:[(0,s.jsxs)(w.aR,{children:[(0,s.jsxs)(w.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(f.A,{className:"h-5 w-5"}),"Hypotheses Analysis"]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,s.jsxs)(S.$,{onClick:D,variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),"Analyze Hypotheses"]}),(0,s.jsxs)(S.$,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{var e,t;let s=q();r({title:"Strongest Hypothesis",description:'"'.concat(null==(e=s[0])?void 0:e.text,'" has the highest score (').concat(null==(t=s[0])?void 0:t.weightedScore,")")})},children:[(0,s.jsx)(N.A,{className:"h-4 w-4"}),"Show Best Hypothesis"]})]})]}),(0,s.jsx)(w.Wu,{children:(0,s.jsx)("div",{className:"space-y-4",children:q().map((e,t)=>{let r=e.supports+e.contradicts+e.neutral+e.not_applicable,a=W.data.evidence.length>0,i=q().every(t=>t.weightedScore===e.weightedScore),o=a&&!i&&0===t&&e.weightedScore>0;return(0,s.jsxs)("div",{className:"border rounded-lg p-4 ".concat(o?"border-green-300 dark:border-green-700 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700"),children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(A.E,{variant:o?"default":"outline",className:"mt-1",children:["H",t+1]}),o&&(0,s.jsx)(N.A,{className:"h-4 w-4 text-yellow-600"})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm leading-relaxed font-medium",children:e.text}),(0,s.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400",children:[(0,s.jsxs)("span",{className:"font-medium ".concat(e.weightedScore>0?"text-green-600":e.weightedScore<0?"text-red-600":"text-gray-600"),children:["Score: ",e.weightedScore]}),o&&(0,s.jsx)(A.E,{variant:"secondary",className:"text-xs",children:"Strongest Hypothesis"})]})]})]}),r>0&&(0,s.jsx)("div",{className:"ml-14",children:(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-center text-xs",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 text-green-600"}),(0,s.jsx)("span",{className:"font-medium",children:e.supports}),(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Supports"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,s.jsx)(n.A,{className:"h-4 w-4 text-yellow-600"}),(0,s.jsx)("span",{className:"font-medium",children:e.neutral}),(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Neutral"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,s.jsx)(l.A,{className:"h-4 w-4 text-red-600"}),(0,s.jsx)("span",{className:"font-medium",children:e.contradicts}),(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Contradicts"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,s.jsx)(c.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{className:"font-medium",children:e.not_applicable}),(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"N/A"})]})]})})]},e.id)})})})]}),(0,s.jsxs)(w.Zp,{children:[(0,s.jsxs)(w.aR,{children:[(0,s.jsxs)(w.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(f.A,{className:"h-5 w-5"}),"Evidence Matrix"]}),(0,s.jsx)(w.BT,{children:"How each piece of evidence relates to the competing hypotheses"})]}),(0,s.jsx)(w.Wu,{children:W.data.evidence.length>0?(0,s.jsx)("div",{className:"space-y-4",children:W.data.evidence.map((e,t)=>(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,s.jsxs)(A.E,{variant:"outline",className:"mt-1",children:["E",t+1]}),(0,s.jsx)("p",{className:"text-sm leading-relaxed flex-1",children:e.text})]}),(0,s.jsx)("div",{className:"ml-14",children:(0,s.jsx)("div",{className:"grid gap-2",children:W.data.hypotheses.map((t,r)=>{let a=e.hypotheses_scores[t.id]||"neutral";return(0,s.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded border ".concat((e=>{switch(e){case"supports":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case"contradicts":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"neutral":return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-700"}})(a)),children:[(0,s.jsxs)(A.E,{variant:"outline",className:"text-xs",children:["H",r+1]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(e=>{switch(e){case"supports":return(0,s.jsx)(d.A,{className:"h-4 w-4 text-green-600"});case"contradicts":return(0,s.jsx)(l.A,{className:"h-4 w-4 text-red-600"});case"neutral":return(0,s.jsx)(n.A,{className:"h-4 w-4 text-yellow-600"});case"not_applicable":return(0,s.jsx)(c.A,{className:"h-4 w-4 text-gray-400"});default:return(0,s.jsx)(n.A,{className:"h-4 w-4 text-gray-400"})}})(a),(0,s.jsx)("span",{className:"text-sm capitalize",children:a.replace("_"," ")})]})]},t.id)})})})]},e.id))}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(f.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-gray-500",children:"No evidence added yet"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Add evidence to see the evaluation matrix"})]})})]})]})}},54416:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},54861:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},70463:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},79904:(e,t,r)=>{Promise.resolve().then(r.bind(r,50797))},85339:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])}},e=>{e.O(0,[7598,4134,3464,3436,4945,5965,1118,8604,8441,5964,7358],()=>e(e.s=79904)),_N_E=e.O()}]);