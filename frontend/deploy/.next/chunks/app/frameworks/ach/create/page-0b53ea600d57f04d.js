(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4394],{21913:(e,s,a)=>{Promise.resolve().then(a.bind(a,61796))},26126:(e,s,a)=>{"use strict";a.d(s,{E:()=>l});var r=a(95155),t=a(12115),i=a(59434);let l=t.forwardRef((e,s)=>{let{className:a,variant:t="default",...l}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{"border-transparent bg-primary text-primary-foreground hover:bg-primary/80":"default"===t,"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===t,"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80":"destructive"===t,"text-foreground":"outline"===t},a),...l})});l.displayName="Badge"},30285:(e,s,a)=>{"use strict";a.d(s,{$:()=>c});var r=a(95155),t=a(12115),i=a(99708),l=a(74466),n=a(59434);let d=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=t.forwardRef((e,s)=>{let{className:a,variant:t,size:l,asChild:c=!1,...o}=e,x=c?i.DX:"button";return(0,r.jsx)(x,{className:(0,n.cn)(d({variant:t,size:l,className:a})),ref:s,...o})});c.displayName="Button"},61796:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>P,dynamic:()=>D});var r=a(95155),t=a(12115),i=a(35695),l=a(35169),n=a(4229),d=a(16785),c=a(18686),o=a(18186),x=a(84616),g=a(62525),h=a(81284),m=a(47863),y=a(66474),u=a(6740),b=a(72713),v=a(49376),p=a(70463),f=a(47924),j=a(1243),N=a(91788),k=a(64261),w=a(57434),A=a(48264),S=a(66695),C=a(30285),T=a(62523),E=a(88539),_=a(26126),I=a(76202),R=a(88262),z=a(69938),$=a(5174),B=a(25731),O=a(59434);let D="force-dynamic",H=[{value:-3,label:"Strongly Contradicts",color:"bg-red-500"},{value:-2,label:"Contradicts",color:"bg-red-400"},{value:-1,label:"Slightly Contradicts",color:"bg-red-300"},{value:0,label:"Neutral/No Impact",color:"bg-gray-400"},{value:1,label:"Slightly Supports",color:"bg-green-300"},{value:2,label:"Supports",color:"bg-green-400"},{value:3,label:"Strongly Supports",color:"bg-green-500"}],L=[{value:-8,label:"Impossible/Strongly Contradicts",color:"bg-red-600"},{value:-5,label:"Very Unlikely/Contradicts",color:"bg-red-500"},{value:-3,label:"Unlikely/Slightly Contradicts",color:"bg-red-400"},{value:-2,label:"Somewhat Unlikely",color:"bg-red-300"},{value:-1,label:"Slightly Against",color:"bg-red-200"},{value:0,label:"Neutral/No Impact",color:"bg-gray-400"},{value:1,label:"Slightly For",color:"bg-green-200"},{value:2,label:"Somewhat Likely",color:"bg-green-300"},{value:3,label:"Likely/Slightly Supports",color:"bg-green-400"},{value:5,label:"Very Likely/Supports",color:"bg-green-500"},{value:8,label:"Almost Certain/Strongly Supports",color:"bg-green-600"}];function P(){let e=(0,i.useRouter)(),{toast:s}=(0,R.d)(),a=(0,$.XI)(),[D]=(0,t.useState)(()=>"anon_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))),[P,Z]=(0,t.useState)({hypotheses:[],evidence:[],scores:[],scaleType:"logarithmic"}),[W,U]=(0,t.useState)("ACH Analysis"),[G]=(0,t.useState)(!1),V=e=>{"function"==typeof e?Z(s=>e(s)):Z(e)},F=P.hypotheses.length>0||P.evidence.length>0,[J,q]=(0,t.useState)(!1),[M,Q]=(0,t.useState)(!0),[K,X]=(0,t.useState)(!1),[Y,ee]=(0,t.useState)(!1),[es,ea]=(0,t.useState)(!1),[er,et]=(0,t.useState)(null),[ei,el]=(0,t.useState)([]),[en,ed]=(0,t.useState)(""),[ec,eo]=(0,t.useState)(""),ex=(e,s)=>{V(a=>({...a,evidence:a.evidence.map(a=>a.id===e?{...a,...s}:a)}))},eg=function(e,s,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";V(t=>{let i=t.scores.findIndex(a=>a.hypothesisId===e&&a.evidenceId===s),l={hypothesisId:e,evidenceId:s,score:a,reasoning:r};if(!(i>=0))return{...t,scores:[...t.scores,l]};{let e=[...t.scores];return e[i]=l,{...t,scores:e}}})},eh=async()=>{ea(!0);try{let e=await fetch("/api/v1/ach/ai/generate-hypotheses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scenario:en,key_question:ec,context:"Current hypotheses: ".concat(P.hypotheses.length)})});if(e.ok){let a=await e.json();a.hypotheses.forEach((e,s)=>{let a={id:"ai_".concat(Date.now(),"_").concat(s),text:e};V(e=>({...e,hypotheses:[...e.hypotheses,a]}))}),s({title:"AI Hypotheses Generated",description:"Added ".concat(a.count," new hypotheses")})}}catch(e){console.error("AI hypothesis generation failed:",e),s({title:"AI Generation Failed",description:"Could not generate hypotheses",variant:"destructive"})}finally{ea(!1)}},em=async()=>{ea(!0);try{let e=await fetch("/api/v1/ach/ai/evidence-gaps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hypotheses:P.hypotheses,evidence:P.evidence})});if(e.ok){let a=await e.json();el(a.evidence_gaps),s({title:"Evidence Gaps Identified",description:"Found ".concat(a.gap_count," potential improvements")})}}catch(e){console.error("Evidence gap analysis failed:",e)}finally{ea(!1)}},ey=async()=>{ea(!0);try{let e=await fetch("/api/v1/ach/ai/bias-detection",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hypotheses:P.hypotheses,evidence:P.evidence,scores:P.scores})});if(e.ok){let a=await e.json();et(a.bias_analysis),s({title:"Bias Analysis Complete",description:"Analysis confidence: ".concat(a.bias_analysis.confidence_level)})}}catch(e){console.error("Bias detection failed:",e)}finally{ea(!1)}},eu=async()=>{if(!W.trim())return void s({title:"Validation Error",description:"Please provide a title for your ACH analysis",variant:"destructive"});if(0===P.hypotheses.length)return void s({title:"Validation Error",description:"Please add at least one hypothesis",variant:"destructive"});q(!0);try{let a={title:W.trim(),description:"Created with auto-save system",framework_type:"ach",data:{hypotheses:P.hypotheses.filter(e=>e.text.trim()),evidence:P.evidence.filter(e=>e.text.trim()),scores:P.scores,scaleType:P.scaleType}};await B.u.post("/frameworks/",a),s({title:"Success",description:"ACH analysis published successfully"}),e.push("/frameworks/ach")}catch(e){s({title:"Error",description:e.message||"Failed to publish ACH analysis",variant:"destructive"})}finally{q(!1)}};if(G)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-green-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading ACH analysis..."})]})});let eb=P.hypotheses.map(e=>{let s;return{...e,score:(s=e.id,P.scores.filter(e=>e.hypothesisId===s).reduce((e,s)=>e+s.score,0))}}).sort((e,s)=>s.score-e.score);return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,r.jsx)("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(C.$,{variant:"ghost",size:"sm",onClick:()=>e.push("/frameworks/ach"),className:"text-gray-600 hover:text-gray-800",children:[(0,r.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"ACH Analysis"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Analysis of Competing Hypotheses"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(z.T,{sessionId:D}),(0,r.jsxs)("div",{className:"flex gap-2",children:[!a&&F&&(0,r.jsx)(C.$,{variant:"outline",onClick:()=>e.push("/login"),children:"Sign In to Save"}),(0,r.jsxs)(C.$,{onClick:eu,disabled:J||!F,className:"bg-green-600 hover:bg-green-700",children:[(0,r.jsx)(n.A,{className:"h-4 w-4 mr-2"}),J?"Publishing...":a?"Publish Analysis":"Sign In to Publish"]})]})]})]}),(0,r.jsxs)(S.Zp,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,r.jsx)(S.aR,{children:(0,r.jsxs)(S.ZB,{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[(0,r.jsx)(d.A,{className:"h-5 w-5"}),"Analysis Information"]})}),(0,r.jsxs)(S.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),(0,r.jsx)(T.p,{value:W,onChange:e=>U(e.target.value),placeholder:"e.g., Market Entry Strategy Analysis",className:"mt-1 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Scoring Scale"}),(0,r.jsxs)("div",{className:"mt-1 flex items-center gap-4",children:[(0,r.jsx)(_.E,{variant:"linear"===P.scaleType?"default":"outline",children:"Linear (-3 to +3)"}),(0,r.jsx)(_.E,{variant:"logarithmic"===P.scaleType?"default":"outline",children:"Logarithmic (-8 to +8)"}),(0,r.jsxs)(C.$,{variant:"ghost",size:"sm",onClick:()=>V(e=>({...e,scaleType:"linear"===e.scaleType?"logarithmic":"linear"})),children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Switch to ","linear"===P.scaleType?"Logarithmic":"Linear"]})]})]})]})]}),(0,r.jsxs)(S.Zp,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)(S.aR,{children:[(0,r.jsxs)(S.ZB,{className:"flex items-center justify-between text-gray-900 dark:text-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.A,{className:"h-5 w-5"}),"Competing Hypotheses (",P.hypotheses.length,")"]}),(0,r.jsxs)(C.$,{onClick:()=>{let e={id:Date.now().toString(),text:""};V(s=>({...s,hypotheses:[...s.hypotheses,e]}))},size:"sm",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Add Hypothesis"]})]}),(0,r.jsx)(S.BT,{className:"text-gray-600 dark:text-gray-400",children:"Define the competing explanations or theories to be evaluated"})]}),(0,r.jsxs)(S.Wu,{className:"space-y-4",children:[P.hypotheses.map((e,s)=>(0,r.jsxs)("div",{className:"flex gap-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center text-sm font-medium text-blue-600 dark:text-blue-400",children:["H",s+1]}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(E.T,{value:e.text,onChange:s=>{var a,r;return a=e.id,r=s.target.value,void V(e=>({...e,hypotheses:e.hypotheses.map(e=>e.id===a?{...e,text:r}:e)}))},placeholder:"Describe your hypothesis...",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",rows:2})}),(0,r.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void V(e=>({...e,hypotheses:e.hypotheses.filter(e=>e.id!==s),scores:e.scores.filter(e=>e.hypothesisId!==s)}))},className:"text-red-600 hover:text-red-800 hover:bg-red-50 dark:hover:bg-red-900/20",children:(0,r.jsx)(g.A,{className:"h-4 w-4"})})]},e.id)),0===P.hypotheses.length&&(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,r.jsx)(d.A,{className:"h-8 w-8 mx-auto mb-3 opacity-50"}),(0,r.jsx)("p",{children:"No hypotheses yet. Add your first hypothesis to get started."})]})]})]}),(0,r.jsxs)(S.Zp,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)(S.aR,{children:[(0,r.jsxs)(S.ZB,{className:"flex items-center justify-between text-gray-900 dark:text-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"h-5 w-5"}),"Evidence (",P.evidence.length,")",(0,r.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>Q(!M),children:M?(0,r.jsx)(m.A,{className:"h-4 w-4"}):(0,r.jsx)(y.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)(C.$,{onClick:()=>{let e={id:Date.now().toString(),text:"",source:"",reliability:3,relevance:3};V(s=>({...s,evidence:[...s.evidence,e]}))},size:"sm",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Add Evidence"]})]}),(0,r.jsx)(S.BT,{className:"text-gray-600 dark:text-gray-400",children:"Collect and evaluate evidence that supports or contradicts each hypothesis"})]}),M&&(0,r.jsxs)(S.Wu,{className:"space-y-4",children:[P.evidence.map((e,s)=>(0,r.jsx)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex gap-3 mb-3",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center text-sm font-medium text-orange-600 dark:text-orange-400",children:["E",s+1]}),(0,r.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,r.jsx)(E.T,{value:e.text,onChange:s=>ex(e.id,{text:s.target.value}),placeholder:"Describe the evidence...",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",rows:2}),(0,r.jsx)(T.p,{value:e.source,onChange:s=>ex(e.id,{source:s.target.value}),placeholder:"Source (optional)",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Reliability: ",e.reliability,"/5"]}),(0,r.jsx)(I.A,{value:[e.reliability],onValueChange:s=>ex(e.id,{reliability:s[0]}),max:5,min:1,step:1,className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Relevance: ",e.relevance,"/5"]}),(0,r.jsx)(I.A,{value:[e.relevance],onValueChange:s=>ex(e.id,{relevance:s[0]}),max:5,min:1,step:1,className:"mt-1"})]})]}),(0,r.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:(0,r.jsxs)(C.$,{variant:"ghost",size:"sm",onClick:()=>{e.sats_evaluation||ex(e.id,{sats_evaluation:{reliability:e.reliability,credibility:3,validity:3,relevance:e.relevance,significance:3,timeliness:3,accuracy:3,completeness:3,overall_score:0,evaluation_date:new Date,notes:""}})},className:"text-xs",children:[(0,r.jsx)(d.A,{className:"h-3 w-3 mr-1"}),e.sats_evaluation?"SATS Evaluated":"Add SATS Evaluation"]})}),e.sats_evaluation&&(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded p-3 mt-2 space-y-3",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"SATS Evaluation (Source, Accuracy, Timeliness, Significance)"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[["reliability","Source Reliability"],["credibility","Source Credibility"],["validity","Information Validity"],["relevance","Relevance"],["significance","Significance"],["timeliness","Timeliness"],["accuracy","Accuracy"],["completeness","Completeness"]].map(s=>{var a,t;let[i,l]=s;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"text-gray-500 dark:text-gray-400",children:[l,": ",(null==(a=e.sats_evaluation)?void 0:a[i])||0,"/5"]}),(0,r.jsx)(I.A,{value:[(null==(t=e.sats_evaluation)?void 0:t[i])||0],onValueChange:s=>{let a={...e.sats_evaluation,[i]:s[0]};a.overall_score=Math.round((a.reliability+a.credibility+a.validity+a.relevance+a.significance+a.timeliness+a.accuracy+a.completeness)/8*10)/10,ex(e.id,{sats_evaluation:a})},max:5,min:1,step:1,className:"mt-1"})]},i)})}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200 dark:border-gray-600",children:[(0,r.jsxs)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:["Overall SATS Score: ",e.sats_evaluation.overall_score,"/5"]}),(0,r.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>ex(e.id,{sats_evaluation:void 0}),className:"text-xs text-red-600 hover:text-red-800",children:"Remove SATS"})]})]})]}),(0,r.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void V(e=>({...e,evidence:e.evidence.filter(e=>e.id!==s),scores:e.scores.filter(e=>e.evidenceId!==s)}))},className:"text-red-600 hover:text-red-800 hover:bg-red-50 dark:hover:bg-red-900/20",children:(0,r.jsx)(g.A,{className:"h-4 w-4"})})]})},e.id)),0===P.evidence.length&&(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,r.jsx)(h.A,{className:"h-8 w-8 mx-auto mb-3 opacity-50"}),(0,r.jsx)("p",{children:"No evidence yet. Add evidence to start scoring against hypotheses."})]})]})]}),P.hypotheses.length>0&&P.evidence.length>0&&(0,r.jsxs)(S.Zp,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)(S.aR,{children:[(0,r.jsxs)(S.ZB,{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[(0,r.jsx)(u.A,{className:"h-5 w-5"}),"Evidence Scoring Matrix"]}),(0,r.jsx)(S.BT,{className:"text-gray-600 dark:text-gray-400",children:"Score how each piece of evidence supports or contradicts each hypothesis"})]}),(0,r.jsx)(S.Wu,{children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-600",children:[(0,r.jsx)("th",{className:"text-left p-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Evidence"}),P.hypotheses.map((e,s)=>(0,r.jsxs)("th",{className:"text-center p-3 text-sm font-medium text-gray-700 dark:text-gray-300 min-w-[120px]",children:["H",s+1]},e.id))]})}),(0,r.jsx)("tbody",{children:P.evidence.map((e,s)=>(0,r.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[(0,r.jsxs)("td",{className:"p-3 text-sm text-gray-700 dark:text-gray-300 max-w-xs",children:[(0,r.jsxs)("div",{className:"font-medium",children:["E",s+1]}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.text})]}),P.hypotheses.map(s=>{let a=((e,s)=>{let a=P.scores.find(a=>a.hypothesisId===e&&a.evidenceId===s);return(null==a?void 0:a.score)||0})(s.id,e.id),t="logarithmic"===P.scaleType?L:H,i=t.find(e=>e.value===a);return(0,r.jsx)("td",{className:"p-3 text-center",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("select",{value:a,onChange:a=>eg(s.id,e.id,parseInt(a.target.value)),className:"w-full text-xs p-2 border rounded bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:t.map(e=>(0,r.jsxs)("option",{value:e.value,children:[e.value>=0?"+":"",e.value,": ",e.label]},e.value))}),i&&(0,r.jsx)("div",{className:(0,O.cn)("w-full h-2 rounded",i.color)})]})},s.id)})]},e.id))})]})})})]}),eb.length>0&&(0,r.jsxs)(S.Zp,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)(S.aR,{children:[(0,r.jsxs)(S.ZB,{className:"flex items-center justify-between text-gray-900 dark:text-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(b.A,{className:"h-5 w-5"}),"Analysis Results"]}),(0,r.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>X(!K),children:K?(0,r.jsx)(m.A,{className:"h-4 w-4"}):(0,r.jsx)(y.A,{className:"h-4 w-4"})})]}),(0,r.jsx)(S.BT,{className:"text-gray-600 dark:text-gray-400",children:"Hypotheses ranked by total evidence score"})]}),K&&(0,r.jsx)(S.Wu,{children:(0,r.jsx)("div",{className:"space-y-3",children:eb.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:(0,O.cn)("w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold text-white",0===s?"bg-yellow-500":1===s?"bg-gray-400":2===s?"bg-orange-500":"bg-gray-300"),children:s+1})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.text||"Hypothesis ".concat(P.hypotheses.findIndex(s=>s.id===e.id)+1)}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total Score: ",e.score>0?"+":"",e.score]})]}),(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(_.E,{variant:e.score>0?"default":e.score<0?"destructive":"secondary",children:e.score>0?"Supported":e.score<0?"Contradicted":"Neutral"})})]},e.id))})})]}),(0,r.jsxs)(S.Zp,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)(S.aR,{children:[(0,r.jsx)(S.ZB,{className:"flex items-center justify-between text-gray-900 dark:text-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(v.A,{className:"h-5 w-5"}),"AI Analysis Assistant",(0,r.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>ee(!Y),children:Y?(0,r.jsx)(m.A,{className:"h-4 w-4"}):(0,r.jsx)(y.A,{className:"h-4 w-4"})})]})}),(0,r.jsx)(S.BT,{className:"text-gray-600 dark:text-gray-400",children:"Enhance your analysis with AI-powered insights and bias detection"})]}),Y&&(0,r.jsxs)(S.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Analysis Scenario"}),(0,r.jsx)(E.T,{value:en,onChange:e=>ed(e.target.value),placeholder:"Describe the situation you're analyzing...",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",rows:3})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Key Question"}),(0,r.jsx)(E.T,{value:ec,onChange:e=>eo(e.target.value),placeholder:"What is the key intelligence question?",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",rows:3})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:(0,r.jsx)(p.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Generate Hypotheses"}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"AI-powered alternatives"})]})]}),(0,r.jsx)(C.$,{variant:"outline",size:"sm",className:"w-full",onClick:eh,disabled:es||!en||!ec,children:es?"Generating...":"Generate"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center",children:(0,r.jsx)(f.A,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Evidence Gaps"}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Identify missing evidence"})]})]}),(0,r.jsx)(C.$,{variant:"outline",size:"sm",className:"w-full",onClick:em,disabled:es||0===P.hypotheses.length,children:es?"Analyzing...":"Analyze"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center",children:(0,r.jsx)(j.A,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Bias Detection"}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check for cognitive bias"})]})]}),(0,r.jsx)(C.$,{variant:"outline",size:"sm",className:"w-full",onClick:ey,disabled:es||0===P.scores.length,children:es?"Detecting...":"Detect"})]})]}),ei.length>0&&(0,r.jsxs)("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-orange-900 dark:text-orange-200 mb-3",children:"Suggested Evidence to Collect:"}),(0,r.jsx)("ul",{className:"space-y-2",children:ei.map((e,s)=>(0,r.jsxs)("li",{className:"text-sm text-orange-800 dark:text-orange-300 flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-orange-500",children:"•"}),e]},s))})]}),er&&(0,r.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[(0,r.jsxs)("h4",{className:"font-medium text-red-900 dark:text-red-200 mb-3",children:["Potential Cognitive Biases (",er.confidence_level," confidence):"]}),er.biases_detected.length>0&&(0,r.jsx)("ul",{className:"space-y-2 mb-3",children:er.biases_detected.map((e,s)=>(0,r.jsxs)("li",{className:"text-sm text-red-800 dark:text-red-300 flex items-start gap-2",children:[(0,r.jsx)(j.A,{className:"h-4 w-4 text-red-500 mt-0.5"}),e]},s))}),er.recommendations.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-red-900 dark:text-red-200 mb-2",children:"Recommendations:"}),(0,r.jsx)("ul",{className:"space-y-1",children:er.recommendations.map((e,s)=>(0,r.jsxs)("li",{className:"text-sm text-red-700 dark:text-red-400 flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-red-500",children:"→"}),e]},s))})]})]})]})]}),(P.hypotheses.length>0||P.evidence.length>0)&&(0,r.jsxs)(S.Zp,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)(S.aR,{children:[(0,r.jsxs)(S.ZB,{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[(0,r.jsx)(N.A,{className:"h-5 w-5"}),"Professional Export Templates"]}),(0,r.jsx)(S.BT,{className:"text-gray-600 dark:text-gray-400",children:"Generate professional reports for briefings and documentation"})]}),(0,r.jsxs)(S.Wu,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:(0,r.jsx)(k.A,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"ACH Matrix (Excel)"}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Hypothesis vs Evidence scoring"})]})]}),(0,r.jsxs)(C.$,{variant:"outline",size:"sm",className:"w-full",onClick:async()=>{try{let e=await fetch("/api/v1/ach/export/excel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:W||"ACH Analysis",scenario:en||"Analysis Scenario",key_question:ec||"Key Question",hypotheses:P.hypotheses,evidence:P.evidence,scores:P.scores})});if(e.ok){let s=await e.blob(),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="ach-matrix-".concat(new Date().toISOString().split("T")[0],".xlsx"),r.click()}}catch(e){console.error("Export failed:",e)}},children:[(0,r.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Download"]})]}),(0,r.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:(0,r.jsx)(w.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Analysis Report (Word)"}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Comprehensive written analysis"})]})]}),(0,r.jsxs)(C.$,{variant:"outline",size:"sm",className:"w-full",onClick:async()=>{try{let e=await fetch("/api/v1/ach/export/word",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:W||"ACH Analysis",scenario:en||"Analysis Scenario",key_question:ec||"Key Question",hypotheses:P.hypotheses,evidence:P.evidence,scores:P.scores,analysis_date:new Date().toISOString(),analyst_name:"Anonymous User"})});if(e.ok){let s=await e.blob(),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="ach-report-".concat(new Date().toISOString().split("T")[0],".docx"),r.click()}}catch(e){console.error("Export failed:",e)}},children:[(0,r.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Download"]})]}),(0,r.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center",children:(0,r.jsx)(A.A,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Briefing Slides (PPT)"}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Executive presentation format"})]})]}),(0,r.jsxs)(C.$,{variant:"outline",size:"sm",className:"w-full",onClick:async()=>{try{let e=await fetch("/api/v1/ach/export/powerpoint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:W||"ACH Analysis",scenario:en||"Analysis Scenario",key_question:ec||"Key Question",hypotheses:P.hypotheses,evidence:P.evidence,scores:P.scores,ranked_hypotheses:eb})});if(e.ok){let s=await e.blob(),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="ach-briefing-".concat(new Date().toISOString().split("T")[0],".pptx"),r.click()}}catch(e){console.error("Export failed:",e)}},children:[(0,r.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Download"]})]})]}),(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Export Options:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)(C.$,{variant:"ghost",size:"sm",className:"text-xs",children:"Include SATS Evaluation"}),(0,r.jsx)(C.$,{variant:"ghost",size:"sm",className:"text-xs",children:"Classification: UNCLASSIFIED"}),(0,r.jsx)(C.$,{variant:"ghost",size:"sm",className:"text-xs",children:"Government Format"})]})]})]})]}),!a&&(0,r.jsx)(S.Zp,{className:"border-dashed border-2 border-green-300 dark:border-green-600 bg-green-50 dark:bg-green-900/20",children:(0,r.jsxs)(S.Wu,{className:"flex flex-col items-center justify-center py-8",children:[(0,r.jsx)(d.A,{className:"h-12 w-12 text-green-500 mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2",children:"Your Work is Automatically Saved"}),(0,r.jsx)("p",{className:"text-green-700 dark:text-green-300 text-center mb-4 max-w-lg",children:"We're saving your progress locally in your browser as you work. To save to the cloud and access from any device, sign in to your account."}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(C.$,{variant:"outline",onClick:()=>e.push("/login"),className:"border-green-300 text-green-700 hover:bg-green-100",children:"Sign In"}),(0,r.jsx)(C.$,{onClick:()=>e.push("/register"),className:"bg-green-600 hover:bg-green-700",children:"Create Account"})]})]})})]})})})}},62523:(e,s,a)=>{"use strict";a.d(s,{p:()=>l});var r=a(95155),t=a(12115),i=a(59434);let l=t.forwardRef((e,s)=>{let{className:a,type:t,...l}=e;return(0,r.jsx)("input",{type:t,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...l})});l.displayName="Input"},66695:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>n});var r=a(95155),t=a(12115),i=a(59434);let l=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});l.displayName="Card";let n=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...t})});n.displayName="CardHeader";let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...t})});d.displayName="CardTitle";let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...t})});c.displayName="CardDescription";let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",a),...t})});o.displayName="CardContent",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",a),...t})}).displayName="CardFooter"},69938:(e,s,a)=>{"use strict";a.d(s,{T:()=>l});var r=a(95155);a(12115);var t=a(95880),i=a(59434);function l(e){let{sessionId:s,className:a,showDetails:l=!0,size:n="md"}=e;return(0,r.jsxs)("div",{className:(0,i.cn)("flex items-center gap-2 px-3 py-1.5 text-sm rounded-md border bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-700",a),children:[(0,r.jsx)(t.A,{className:"h-4 w-4 text-green-500"}),(0,r.jsx)("span",{className:"font-medium text-green-500",children:"Auto-save active"}),(0,r.jsxs)("div",{className:"flex items-center gap-1 ml-2 pl-2 border-l border-gray-300 dark:border-gray-600",children:[(0,r.jsx)(t.A,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),(0,r.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Local"})]})]})}},76202:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});var r=a(95155),t=a(12115),i=a(54073),l=a(59434);let n=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsxs)(i.bL,{ref:s,className:(0,l.cn)("relative flex w-full touch-none select-none items-center",a),...t,children:[(0,r.jsx)(i.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,r.jsx)(i.Q6,{className:"absolute h-full bg-primary"})}),(0,r.jsx)(i.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});n.displayName=i.bL.displayName},88262:(e,s,a)=>{"use strict";a.d(s,{d:()=>n,t:()=>l});var r=a(12115);let t=r.createContext(void 0),i=0;function l(e){let{children:s}=e,[a,l]=r.useState([]),n=r.useCallback(e=>{let s=(++i).toString();l(a=>[...a,{...e,id:s}]),setTimeout(()=>{l(e=>e.filter(e=>e.id!==s))},5e3)},[]),c=r.useCallback(e=>{l(s=>s.filter(s=>s.id!==e))},[]);return r.createElement(t.Provider,{value:{toasts:a,toast:n,removeToast:c}},s,r.createElement(d))}function n(){let e=r.useContext(t);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function d(){let{toasts:e,removeToast:s}=n();return r.createElement("div",{className:"fixed top-4 right-4 z-50 space-y-2"},e.map(e=>r.createElement("div",{key:e.id,className:"p-4 rounded-lg shadow-lg max-w-md relative ".concat("destructive"===e.variant?"bg-red-500 text-white":"bg-white border border-gray-200 text-gray-900")},e.title&&r.createElement("div",{className:"font-medium"},e.title),e.description&&r.createElement("div",{className:"text-sm ".concat("destructive"===e.variant?"text-red-100":"text-gray-600")},e.description),r.createElement("button",{onClick:()=>s(e.id),className:"absolute top-2 right-2 text-xs opacity-70 hover:opacity-100"},"\xd7"))))}},88539:(e,s,a)=>{"use strict";a.d(s,{T:()=>l});var r=a(95155),t=a(12115),i=a(59434);let l=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...t})});l.displayName="Textarea"}},e=>{e.O(0,[7598,4134,3464,3436,1883,448,3137,8441,5964,7358],()=>e(e.s=21913)),_N_E=e.O()}]);