(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9305],{30347:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});var a=r(95155),s=r(12115),l=r(5174);function n(e){let{children:t,fallback:r=null}=e,[n,i]=(0,s.useState)(!1),{refreshUser:o,isAuthenticated:c}=(0,l.nc)();return((0,s.useEffect)(()=>{(async()=>{console.log("\uD83D\uDEE1️ AuthGuard: Initializing authentication...");try{let e=localStorage.getItem("omnicore_tokens"),t=localStorage.getItem("omnicore_auth");console.log("\uD83D\uDEE1️ AuthGuard: Checking storage:",{hasTokens:!!e,hasAuth:!!t}),e&&!c&&(console.log("\uD83D\uDEE1️ AuthGuard: Found tokens but not authenticated, refreshing user..."),await o()),c&&!e&&(console.log("\uD83D\uDEE1️ AuthGuard: Auth store says authenticated but no tokens, clearing..."),l.nc.getState().logout())}catch(e){console.error("\uD83D\uDEE1️ AuthGuard: Failed to initialize auth:",e)}finally{i(!0),console.log("\uD83D\uDEE1️ AuthGuard: Initialization complete")}})()},[]),n)?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)(a.Fragment,{children:r})}},32056:(e,t,r)=>{"use strict";r.d(t,{z:()=>k});var a=r(95155),s=r(12115),l=r(6874),n=r.n(l),i=r(35695),o=r(57340),c=r(49376),d=r(47924),m=r(39022),g=r(57434),h=r(17580),u=r(381),x=r(71539),f=r(74783),b=r(54416),y=r(59434);let p=[{name:"Dashboard",href:"/dashboard",icon:o.A},{name:"Analysis Frameworks",href:"/frameworks",icon:c.A,children:[{name:"SWOT Analysis",href:"/frameworks/swot"},{name:"COG Analysis",href:"/frameworks/cog"},{name:"PMESII-PT",href:"/frameworks/pmesii-pt"},{name:"ACH Analysis",href:"/frameworks/ach"},{name:"DOTMLPF",href:"/frameworks/dotmlpf"},{name:"Deception Detection",href:"/frameworks/deception-detection"},{name:"Behavioral Analysis",href:"/frameworks/behavioral-analysis"},{name:"Starbursting",href:"/frameworks/starbursting"},{name:"Causeway",href:"/frameworks/causeway"},{name:"Security Assessment",href:"/security-assessment"}]},{name:"Research Tools",href:"/tools",icon:d.A,children:[{name:"Content Extraction",href:"/tools/content-extraction"},{name:"Batch Processing",href:"/tools/batch-processing"},{name:"URL Processing",href:"/tools/url"},{name:"Citations",href:"/tools/citations"},{name:"Web Scraping",href:"/tools/scraping"},{name:"Social Media",href:"/tools/social-media"},{name:"Documents",href:"/tools/documents"}]},{name:"Evidence Collector",href:"/evidence",icon:m.A},{name:"Reports",href:"/reports",icon:g.A},{name:"Collaboration",href:"/collaboration",icon:h.A},{name:"Settings",href:"/settings",icon:u.A}];function k(){let e=(0,i.usePathname)(),[t,r]=(0,s.useState)(!1),[l,o]=(0,s.useState)(["Analysis Frameworks"]),c=()=>(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsx)("div",{className:"flex h-16 shrink-0 items-center px-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-8 w-8 rounded bg-blue-600 flex items-center justify-center",children:(0,a.jsx)(x.A,{className:"h-5 w-5 text-white"})}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"OmniCore"})]})}),(0,a.jsx)("nav",{className:"flex flex-1 flex-col px-6 pb-4",children:(0,a.jsx)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-1",children:p.map(t=>(0,a.jsx)("li",{children:t.children?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>{var e;return e=t.name,void o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:(0,y.cn)(e.startsWith(t.href)?"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-700 hover:text-blue-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-blue-400 dark:hover:bg-gray-800","group flex w-full gap-x-3 rounded-md p-2 text-sm leading-6 font-medium"),children:[(0,a.jsx)(t.icon,{className:"h-5 w-5 shrink-0"}),t.name]}),l.includes(t.name)&&(0,a.jsx)("ul",{className:"mt-1 ml-6 space-y-1",children:t.children.map(t=>(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:t.href,className:(0,y.cn)(e===t.href?"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-600 hover:text-blue-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-blue-400 dark:hover:bg-gray-800","block rounded-md py-1.5 px-3 text-sm leading-6"),children:t.name})},t.name))})]}):(0,a.jsxs)(n(),{href:t.href,className:(0,y.cn)(e===t.href?"bg-blue-50 border-r-2 border-blue-600 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-700 hover:text-blue-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-blue-400 dark:hover:bg-gray-800","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-medium"),children:[(0,a.jsx)(t.icon,{className:"h-5 w-5 shrink-0"}),t.name]})},t.name))})})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"lg:hidden",children:(0,a.jsx)("button",{type:"button",className:"fixed top-4 left-4 z-50 rounded-md bg-white dark:bg-gray-800 p-2 text-gray-400 dark:text-gray-300 shadow-sm lg:hidden",onClick:()=>r(!0),children:(0,a.jsx)(f.A,{className:"h-6 w-6"})})}),t&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 lg:hidden",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-900/80",onClick:()=>r(!1)}),(0,a.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-900 shadow-xl",children:[(0,a.jsx)("button",{type:"button",className:"absolute top-4 right-4 rounded-md p-2 text-gray-400 hover:text-gray-500",onClick:()=>r(!1),children:(0,a.jsx)(b.A,{className:"h-6 w-6"})}),(0,a.jsx)(c,{})]})]}),(0,a.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:(0,a.jsx)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-white dark:bg-gray-900 dark:border-gray-700",children:(0,a.jsx)(c,{})})})]})}},46482:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(95155),s=r(12115),l=r(35695),n=r(5174),i=r(30347),o=r(32056),c=r(35868),d=r(91659),m=r(23861),g=r(71007),h=r(66474),u=r(381),x=r(34835),f=r(59434);function b(){var e;let t=(0,l.useRouter)(),[r,n]=(0,s.useState)(null);(0,s.useEffect)(()=>{n(localStorage.getItem("omnicore_user_hash"))},[]);let i={username:r?"Hash: ".concat(r.slice(0,8),"..."):"User",role:"user"},o=()=>{localStorage.removeItem("omnicore_user_hash"),localStorage.removeItem("omnicore_authenticated"),t.push("/login")};return(0,a.jsx)("div",{className:"sticky top-0 z-40 bg-white shadow-sm dark:bg-gray-900 dark:border-b dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Research Analysis Platform"})}),(0,a.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,a.jsxs)("button",{type:"button",className:"relative rounded-full bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-gray-900 dark:hover:text-gray-300",children:[(0,a.jsx)(m.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500 text-xs text-white flex items-center justify-center",children:"3"})]}),(0,a.jsxs)(c.W1,{as:"div",className:"relative",children:[(0,a.jsxs)(c.W1.Button,{className:"flex items-center gap-x-2 rounded-full bg-white p-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-gray-900",children:[(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:(0,a.jsx)(g.A,{className:"h-4 w-4 text-white"})}),(0,a.jsxs)("div",{className:"hidden lg:flex lg:flex-col lg:items-start",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(null==i?void 0:i.full_name)||(null==i?void 0:i.username)}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:(0,f.cn)("inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",(e=>{switch(e){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"analyst":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"researcher":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}})((null==i?void 0:i.role)||"")),children:null==i||null==(e=i.role)?void 0:e.toUpperCase()}),(null==i?void 0:i.organization)&&(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.organization})]})]}),(0,a.jsx)(h.A,{className:"h-4 w-4 text-gray-400"})]}),(0,a.jsx)(d.e,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,a.jsxs)(c.W1.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none dark:bg-gray-800 dark:ring-gray-700",children:[(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100 dark:border-gray-700",children:[(0,a.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:null==i?void 0:i.full_name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:null==i?void 0:i.email})]}),(0,a.jsx)(c.W1.Item,{children:e=>{let{active:r}=e;return(0,a.jsxs)("button",{onClick:()=>t.push("/profile"),className:(0,f.cn)(r?"bg-gray-50 dark:bg-gray-700":"","flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300"),children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),"Your Profile"]})}}),(0,a.jsx)(c.W1.Item,{children:e=>{let{active:r}=e;return(0,a.jsxs)("button",{onClick:()=>t.push("/settings"),className:(0,f.cn)(r?"bg-gray-50 dark:bg-gray-700":"","flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300"),children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),"Settings"]})}}),(0,a.jsx)("div",{className:"border-t border-gray-100 dark:border-gray-700",children:(0,a.jsx)(c.W1.Item,{children:e=>{let{active:t}=e;return(0,a.jsxs)("button",{onClick:o,className:(0,f.cn)(t?"bg-gray-50 dark:bg-gray-700":"","flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300"),children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),"Sign out"]})}})})]})})]})]})]})})}var y=r(88262);function p(e){let{children:t}=e,r=(0,l.useRouter)(),c=(0,n.XI)(),d=(0,n.Yq)(),{refreshUser:m}=(0,n.nc)();return((0,s.useEffect)(()=>{if(console.log("\uD83C\uDFE0 Dashboard Layout: Auth check - isAuthenticated:",c,"isLoading:",d),!c&&!d){console.log("\uD83D\uDCDD Dashboard Layout: User not authenticated - anonymous mode enabled");let e=localStorage.getItem("omnicore_user_hash"),t=localStorage.getItem("omnicore_authenticated");(e||t)&&(console.log("\uD83E\uDDF9 Dashboard Layout: Clearing legacy auth"),localStorage.removeItem("omnicore_user_hash"),localStorage.removeItem("omnicore_authenticated"));return}console.log("✅ Dashboard Layout: User is authenticated, refreshing user data..."),m()},[c,r,m]),d)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."})]})}):(0,a.jsx)(i.q,{children:(0,a.jsx)(y.t,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)(o.z,{}),(0,a.jsxs)("div",{className:"lg:pl-64",children:[(0,a.jsx)(b,{}),(0,a.jsx)("main",{className:"py-6",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t})})]})]})})})}},5e4:(e,t,r)=>{Promise.resolve().then(r.bind(r,46482))},88262:(e,t,r)=>{"use strict";r.d(t,{d:()=>i,t:()=>n});var a=r(12115);let s=a.createContext(void 0),l=0;function n(e){let{children:t}=e,[r,n]=a.useState([]),i=a.useCallback(e=>{let t=(++l).toString();n(r=>[...r,{...e,id:t}]),setTimeout(()=>{n(e=>e.filter(e=>e.id!==t))},5e3)},[]),c=a.useCallback(e=>{n(t=>t.filter(t=>t.id!==e))},[]);return a.createElement(s.Provider,{value:{toasts:r,toast:i,removeToast:c}},t,a.createElement(o))}function i(){let e=a.useContext(s);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function o(){let{toasts:e,removeToast:t}=i();return a.createElement("div",{className:"fixed top-4 right-4 z-50 space-y-2"},e.map(e=>a.createElement("div",{key:e.id,className:"p-4 rounded-lg shadow-lg max-w-md relative ".concat("destructive"===e.variant?"bg-red-500 text-white":"bg-white border border-gray-200 text-gray-900")},e.title&&a.createElement("div",{className:"font-medium"},e.title),e.description&&a.createElement("div",{className:"text-sm ".concat("destructive"===e.variant?"text-red-100":"text-gray-600")},e.description),a.createElement("button",{onClick:()=>t(e.id),className:"absolute top-2 right-2 text-xs opacity-70 hover:opacity-100"},"\xd7"))))}}},e=>{e.O(0,[2545,7598,4134,3464,6874,4945,3145,4928,3137,8441,5964,7358],()=>e(e.s=5e4)),_N_E=e.O()}]);