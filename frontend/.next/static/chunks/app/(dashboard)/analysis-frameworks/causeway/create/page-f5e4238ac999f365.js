(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9173],{1243:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2775:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},25731:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var a=r(23464);let s="http://localhost:8000/api/v1";console.log("API Client initialized with base URL:",s);class i{handleError(e){if(e.response){let r=e.response.data,a="An error occurred";if(null==r?void 0:r.detail)if("string"==typeof r.detail)a=r.detail;else if(Array.isArray(r.detail)){var t;a=(null==(t=r.detail[0])?void 0:t.msg)||"Invalid input"}else"object"==typeof r.detail&&(a=r.detail.message||JSON.stringify(r.detail));else(null==r?void 0:r.message)&&(a=r.message);return{message:a,status:e.response.status,details:r}}return e.request?{message:"Network error - please check your connection",status:0}:{message:e.message||"An unexpected error occurred",status:0}}loadTokensFromStorage(){try{if(window.localStorage){let t=localStorage.getItem("omnicore_tokens");if(console.log("\uD83D\uDD0D API Client: Loading tokens from storage:",t?"Found tokens":"No tokens found"),t){var e;this.tokens=JSON.parse(t),console.log("✅ API Client: Tokens loaded successfully, expires at:",new Date(Date.now()+1e3*((null==(e=this.tokens)?void 0:e.expires_in)||0)).toLocaleTimeString())}}}catch(e){console.error("❌ API Client: Failed to load tokens from storage:",e)}}saveTokensToStorage(e){try{window.localStorage&&(console.log("\uD83D\uDCBE API Client: Saving tokens to storage, expires in:",e.expires_in,"seconds"),localStorage.setItem("omnicore_tokens",JSON.stringify(e)),console.log("✅ API Client: Tokens saved successfully")),this.tokens=e}catch(e){console.error("❌ API Client: Failed to save tokens to storage:",e)}}clearTokens(){console.log("\uD83D\uDDD1️ API Client: Clearing tokens from storage"),this.tokens=null,localStorage.removeItem("omnicore_tokens"),console.log("✅ API Client: Tokens cleared from localStorage")}async login(e){let t=new URLSearchParams;t.append("username",e.username),t.append("password",e.password);let r=await this.client.post("/auth/login",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return this.saveTokensToStorage(r.data),{user:await this.getCurrentUser(),tokens:r.data}}async registerWithHash(){console.log("API Client: Requesting new hash registration from backend");let e=await this.client.post("/hash-auth/register");return console.log("API Client: Hash registration successful:",{hash:e.data.account_hash.substring(0,4)+"...",created_at:e.data.created_at}),e.data}async loginWithHash(e){try{console.log("API Client: Making hash auth request to:","".concat(s,"/hash-auth/authenticate")),console.log("API Client: Hash credentials:",e);let t=await this.client.post("/hash-auth/authenticate",e);console.log("API Client: Hash auth response received:",{status:t.status,hasAccessToken:!!t.data.access_token,tokenType:t.data.token_type,role:t.data.role});let r={access_token:t.data.access_token,refresh_token:t.data.refresh_token,token_type:t.data.token_type,expires_in:t.data.expires_in};return this.saveTokensToStorage(r),{user:{id:1,username:"user_".concat(e.account_hash.substring(0,8)),email:"anonymous@researchtools.dev",full_name:"Research Analyst",role:t.data.role,is_active:!0,is_verified:!0,account_hash:t.data.account_hash,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},tokens:r}}catch(e){var t,r;if((null==(t=e.response)?void 0:t.status)===401)throw{message:"Invalid account hash. Please check your account number.",status:401,details:null==(r=e.response)?void 0:r.data};throw e}}async register(e){return(await this.client.post("/auth/register",e)).data}async refreshToken(){var e;if(!(null==(e=this.tokens)?void 0:e.refresh_token))throw Error("No refresh token available");let t=await this.client.post("/auth/refresh",{refresh_token:this.tokens.refresh_token});return this.saveTokensToStorage(t.data),t.data}async getCurrentUser(){return(await this.client.get("/auth/me")).data}logout(){this.clearTokens()}async get(e,t){return(await this.client.get(e,t)).data}async post(e,t){return(await this.client.post(e,t)).data}async put(e,t){return(await this.client.put(e,t)).data}async patch(e,t){return(await this.client.patch(e,t)).data}async delete(e){await this.client.delete(e)}isAuthenticated(){var e,t;let r=!!(null==(e=this.tokens)?void 0:e.access_token);return console.log("\uD83D\uDD10 API Client: isAuthenticated check:",r,(null==(t=this.tokens)?void 0:t.access_token)?"Token exists":"No token"),r}getTokens(){return this.tokens}async healthCheck(){return(await this.client.get("/health")).data}constructor(){this.tokens=null,console.log("\uD83C\uDFD7️ API Client: Constructor called, initializing..."),this.client=a.A.create({baseURL:s,headers:{"Content-Type":"application/json"}}),console.log("\uD83C\uDFD7️ API Client: Loading tokens on initialization..."),this.loadTokensFromStorage(),this.client.interceptors.request.use(e=>{var t;return(null==(t=this.tokens)?void 0:t.access_token)&&(e.headers.Authorization="Bearer ".concat(this.tokens.access_token)),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t,r;let a=e.config;if((null==(t=e.response)?void 0:t.status)===401&&a&&!a._retry){a._retry=!0;try{return await this.refreshToken(),(null==(r=this.tokens)?void 0:r.access_token)&&a.headers&&(a.headers.Authorization="Bearer ".concat(this.tokens.access_token)),this.client.request(a)}catch(e){return this.clearTokens(),window.location.href="/login",Promise.reject(e)}}return Promise.reject(this.handleError(e))}),this.loadTokensFromStorage()}}let o=null,n=new Proxy({},{get(e,t){if(o||(console.log("\uD83C\uDFAF API Client: Initializing singleton on first access"),o=new i),!o)return"string"==typeof t&&"then"!==t?()=>Promise.resolve(null):void 0;let r=o[t];return"function"==typeof r?r.bind(o):r}})},26126:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var a=r(95155),s=r(12115),i=r(59434);let o=s.forwardRef((e,t)=>{let{className:r,variant:s="default",...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{"border-transparent bg-primary text-primary-foreground hover:bg-primary/80":"default"===s,"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===s,"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80":"destructive"===s,"text-foreground":"outline"===s},r),...o})});o.displayName="Badge"},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var a=r(95155),s=r(12115),i=r(99708),o=r(74466),n=r(59434);let l=(0,o.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(l({variant:s,size:o,className:r})),ref:t,...c})});d.displayName="Button"},33109:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},40646:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},40968:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var a=r(12115),s=r(63655),i=r(95155),o=a.forwardRef((e,t)=>(0,i.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var n=o},59409:(e,t,r)=>{"use strict";r.d(t,{bq:()=>u,eb:()=>h,gC:()=>g,l6:()=>d,yv:()=>c});var a=r(95155),s=r(12115),i=r(31992),o=r(66474),n=r(5196),l=r(59434);let d=i.bL;i.YJ;let c=i.WT,u=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(i.l9,{ref:t,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:bg-gray-950 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus:ring-gray-300",r),...n,children:[s,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(o.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=i.l9.displayName;let g=s.forwardRef((e,t)=>{let{className:r,children:s,position:o="popper",...n}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsx)(i.UC,{ref:t,className:(0,l.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:o,...n,children:(0,a.jsx)(i.LM,{className:(0,l.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s})})})});g.displayName=i.UC.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.JU,{ref:t,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s})}).displayName=i.JU.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,a.jsxs)(i.q7,{ref:t,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50",r),...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:s})]})});h.displayName=i.q7.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.wv,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-gray-100 dark:bg-gray-800",r),...s})}).displayName=i.wv.displayName},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i,fw:()=>o});var a=r(52596),s=r(39688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}function o(e){let t=new Date,r=new Date(e);if(isNaN(r.getTime()))return"Invalid date";let a=Math.floor((t.getTime()-r.getTime())/1e3);if(a<60)return"just now";if(a<3600)return"".concat(Math.floor(a/60),"m ago");if(a<86400)return"".concat(Math.floor(a/3600),"h ago");if(a<604800)return"".concat(Math.floor(a/86400),"d ago");let s=new Date(e);return isNaN(s.getTime())?"Invalid date":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(s)}},60530:(e,t,r)=>{Promise.resolve().then(r.bind(r,69771))},62523:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var a=r(95155),s=r(12115),i=r(59434);let o=s.forwardRef((e,t)=>{let{className:r,type:s,...o}=e;return(0,a.jsx)("input",{type:s,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...o})});o.displayName="Input"},62525:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>o,aR:()=>n});var a=r(95155),s=r(12115),i=r(59434);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});o.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})});n.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},69771:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var a=r(95155),s=r(12115),i=r(35695),o=r(40646),n=r(33109),l=r(1243),d=r(2775),c=r(84616),u=r(62525),g=r(92138),h=r(4229),m=r(66695),y=r(30285),x=r(62523),f=r(88539),p=r(85057),b=r(59409),v=r(26126),k=r(76202),w=r(88262),j=r(25731);function N(){let e=(0,i.useRouter)(),{toast:t}=(0,w.d)(),[r,N]=(0,s.useState)(!1),[C,A]=(0,s.useState)(""),[T,_]=(0,s.useState)(""),[I,S]=(0,s.useState)(""),[P,R]=(0,s.useState)([]),[M,D]=(0,s.useState)([]),E=[{id:"immediate",name:"Immediate Causes",icon:o.A,description:"Direct triggers or immediate factors",color:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"},{id:"underlying",name:"Underlying Causes",icon:n.A,description:"Deeper systematic issues",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"},{id:"root",name:"Root Causes",icon:l.A,description:"Fundamental issues at the core",color:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300"}],q=(e,t,r)=>{R(P.map(a=>a.id===e?{...a,[t]:r}:a))},z=(e,t,r)=>{D(M.map(a=>a.id===e?{...a,[t]:r}:a))},F=async()=>{if(!C.trim())return void t({title:"Validation Error",description:"Please provide a title for your analysis",variant:"destructive"});if(0===P.length)return void t({title:"Validation Error",description:"Please add at least one root cause",variant:"destructive"});N(!0);try{let r={title:C.trim(),description:T.trim(),framework_type:"causeway",status:"draft",data:{problemStatement:I.trim(),rootCauses:P.filter(e=>e.cause.trim()),effects:M.filter(e=>e.effect.trim())}},a=await j.u.post("/frameworks/",r);t({title:"Success",description:"Causeway analysis created successfully"}),e.push("/analysis-frameworks/causeway/".concat(a.id))}catch(e){console.error("Failed to create analysis:",e),t({title:"Error",description:e.message||"Failed to create analysis",variant:"destructive"})}finally{N(!1)}};return(0,a.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Create Causeway Analysis"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Systematic root cause analysis to identify underlying factors"})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)(m.Zp,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{className:"text-gray-900 dark:text-gray-100",children:"Basic Information"}),(0,a.jsx)(m.BT,{className:"text-gray-600 dark:text-gray-400",children:"Define the scope and context of your analysis"})]}),(0,a.jsxs)(m.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p.J,{htmlFor:"title",className:"text-gray-700 dark:text-gray-300",children:"Analysis Title"}),(0,a.jsx)(x.p,{id:"title",value:C,onChange:e=>A(e.target.value),placeholder:"e.g., Production Quality Issues Analysis",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p.J,{htmlFor:"description",className:"text-gray-700 dark:text-gray-300",children:"Description"}),(0,a.jsx)(f.T,{id:"description",value:T,onChange:e=>_(e.target.value),placeholder:"Brief description of the analysis purpose and scope",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p.J,{htmlFor:"problem",className:"text-gray-700 dark:text-gray-300",children:"Problem Statement"}),(0,a.jsx)(f.T,{id:"problem",value:I,onChange:e=>S(e.target.value),placeholder:"Clear statement of the problem being analyzed",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]})]})]}),(0,a.jsxs)(m.Zp,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(m.ZB,{className:"text-gray-900 dark:text-gray-100",children:"Root Causes"}),(0,a.jsx)(m.BT,{className:"text-gray-600 dark:text-gray-400",children:"Identify and categorize potential causes"})]}),(0,a.jsxs)(y.$,{onClick:()=>{R([...P,{id:"cause-".concat(Date.now()),cause:"",category:"immediate",impact:"medium",likelihood:5,evidence:[],description:""}])},className:"bg-purple-600 hover:bg-purple-700 text-white",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Add Cause"]})]})}),(0,a.jsx)(m.Wu,{children:0===P.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,a.jsx)(d.A,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:'No root causes added yet. Click "Add Cause" to start.'})]}):(0,a.jsx)("div",{className:"space-y-4",children:P.map(e=>{let t=(e=>{let t=E.find(t=>t.id===e);return(null==t?void 0:t.icon)||d.A})(e.category);return(0,a.jsx)(m.Zp,{className:"border border-gray-200 dark:border-gray-600",children:(0,a.jsx)(m.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)(v.E,{className:(e=>{let t=E.find(t=>t.id===e);return(null==t?void 0:t.color)||"bg-gray-100 text-gray-800"})(e.category),children:[(0,a.jsx)(t,{className:"h-3 w-3 mr-1"}),e.category]}),(0,a.jsx)(y.$,{variant:"ghost",size:"sm",onClick:()=>{var t;return t=e.id,void R(P.filter(e=>e.id!==t))},className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})})]}),(0,a.jsx)(x.p,{value:e.cause,onChange:t=>q(e.id,"cause",t.target.value),placeholder:"Describe the root cause",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p.J,{className:"text-gray-700 dark:text-gray-300",children:"Category"}),(0,a.jsxs)(b.l6,{value:e.category,onValueChange:t=>q(e.id,"category",t),children:[(0,a.jsx)(b.bq,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:(0,a.jsx)(b.yv,{})}),(0,a.jsxs)(b.gC,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",children:[(0,a.jsx)(b.eb,{value:"immediate",children:"Immediate"}),(0,a.jsx)(b.eb,{value:"underlying",children:"Underlying"}),(0,a.jsx)(b.eb,{value:"root",children:"Root"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p.J,{className:"text-gray-700 dark:text-gray-300",children:"Impact"}),(0,a.jsxs)(b.l6,{value:e.impact,onValueChange:t=>q(e.id,"impact",t),children:[(0,a.jsx)(b.bq,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:(0,a.jsx)(b.yv,{})}),(0,a.jsxs)(b.gC,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",children:[(0,a.jsx)(b.eb,{value:"high",children:"High"}),(0,a.jsx)(b.eb,{value:"medium",children:"Medium"}),(0,a.jsx)(b.eb,{value:"low",children:"Low"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(p.J,{className:"text-gray-700 dark:text-gray-300",children:["Likelihood: ",e.likelihood,"/10"]}),(0,a.jsx)(k.A,{value:[e.likelihood],onValueChange:t=>q(e.id,"likelihood",t[0]),max:10,min:1,step:1,className:"mt-2"})]})]})]})})},e.id)})})})]}),(0,a.jsxs)(m.Zp,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(m.ZB,{className:"text-gray-900 dark:text-gray-100",children:"Effects & Consequences"}),(0,a.jsx)(m.BT,{className:"text-gray-600 dark:text-gray-400",children:"Document the impacts and consequences"})]}),(0,a.jsxs)(y.$,{onClick:()=>{D([...M,{id:"effect-".concat(Date.now()),effect:"",severity:"major",timeframe:"short-term",description:""}])},variant:"outline",className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Add Effect"]})]})}),(0,a.jsx)(m.Wu,{children:0===M.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,a.jsx)(g.A,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:'No effects documented yet. Click "Add Effect" to start.'})]}):(0,a.jsx)("div",{className:"space-y-4",children:M.map(e=>(0,a.jsx)(m.Zp,{className:"border border-gray-200 dark:border-gray-600",children:(0,a.jsx)(m.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)(x.p,{value:e.effect,onChange:t=>z(e.id,"effect",t.target.value),placeholder:"Describe the effect or consequence",className:"flex-1 mr-2 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"}),(0,a.jsx)(y.$,{variant:"ghost",size:"sm",onClick:()=>{var t;return t=e.id,void D(M.filter(e=>e.id!==t))},className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p.J,{className:"text-gray-700 dark:text-gray-300",children:"Severity"}),(0,a.jsxs)(b.l6,{value:e.severity,onValueChange:t=>z(e.id,"severity",t),children:[(0,a.jsx)(b.bq,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:(0,a.jsx)(b.yv,{})}),(0,a.jsxs)(b.gC,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",children:[(0,a.jsx)(b.eb,{value:"critical",children:"Critical"}),(0,a.jsx)(b.eb,{value:"major",children:"Major"}),(0,a.jsx)(b.eb,{value:"minor",children:"Minor"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p.J,{className:"text-gray-700 dark:text-gray-300",children:"Timeframe"}),(0,a.jsxs)(b.l6,{value:e.timeframe,onValueChange:t=>z(e.id,"timeframe",t),children:[(0,a.jsx)(b.bq,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:(0,a.jsx)(b.yv,{})}),(0,a.jsxs)(b.gC,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",children:[(0,a.jsx)(b.eb,{value:"immediate",children:"Immediate"}),(0,a.jsx)(b.eb,{value:"short-term",children:"Short-term"}),(0,a.jsx)(b.eb,{value:"long-term",children:"Long-term"})]})]})]})]})]})})},e.id))})})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)(y.$,{variant:"outline",onClick:()=>e.back(),className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:"Cancel"}),(0,a.jsx)(y.$,{onClick:F,disabled:r||!C.trim(),className:"bg-purple-600 hover:bg-purple-700 text-white",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"}),"Creating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Create Analysis"]})})]})]})]})}},76202:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(95155),s=r(12115),i=r(54073),o=r(59434);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsxs)(i.bL,{ref:t,className:(0,o.cn)("relative flex w-full touch-none select-none items-center",r),...s,children:[(0,a.jsx)(i.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(i.Q6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(i.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});n.displayName=i.bL.displayName},84616:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},85057:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var a=r(95155),s=r(12115),i=r(40968),o=r(74466),n=r(59434);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.b,{ref:t,className:(0,n.cn)(l(),r),...s})});d.displayName=i.b.displayName},88262:(e,t,r)=>{"use strict";r.d(t,{d:()=>n,t:()=>o});var a=r(12115);let s=a.createContext(void 0),i=0;function o(e){let{children:t}=e,[r,o]=a.useState([]),n=a.useCallback(e=>{let t=(++i).toString();o(r=>[...r,{...e,id:t}]),setTimeout(()=>{o(e=>e.filter(e=>e.id!==t))},5e3)},[]),d=a.useCallback(e=>{o(t=>t.filter(t=>t.id!==e))},[]);return a.createElement(s.Provider,{value:{toasts:r,toast:n,removeToast:d}},t,a.createElement(l))}function n(){let e=a.useContext(s);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function l(){let{toasts:e,removeToast:t}=n();return a.createElement("div",{className:"fixed top-4 right-4 z-50 space-y-2"},e.map(e=>a.createElement("div",{key:e.id,className:"p-4 rounded-lg shadow-lg max-w-md relative ".concat("destructive"===e.variant?"bg-red-500 text-white":"bg-white border border-gray-200 text-gray-900")},e.title&&a.createElement("div",{className:"font-medium"},e.title),e.description&&a.createElement("div",{className:"text-sm ".concat("destructive"===e.variant?"text-red-100":"text-gray-600")},e.description),a.createElement("button",{onClick:()=>t(e.id),className:"absolute top-2 right-2 text-xs opacity-70 hover:opacity-100"},"\xd7"))))}},88539:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var a=r(95155),s=r(12115),i=r(59434);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});o.displayName="Textarea"},92138:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])}},e=>{e.O(0,[7598,4134,3464,3436,4945,5965,881,1883,8441,5964,7358],()=>e(e.s=60530)),_N_E=e.O()}]);